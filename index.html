<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Báo Cáo - Phân loại Rầy Nâu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Đảm bảo html2canvas và jsPDF có sẵn
        window.html2canvas = window.html2canvas || html2canvas;
    </script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: #f0f2f5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Download Button - REMOVED */

        /* Slide Container */
        .slide-section {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px 180px 20px;
            page-break-after: always;
            page-break-inside: avoid;
            break-after: page;
            break-inside: avoid;
        }
        
        @media print {
            .slide-section {
                page-break-after: always;
                page-break-inside: avoid;
            }
        }

        .slide-container {
            background-color: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            width: 1366px;
            min-height: 768px;
            max-height: 768px;
            padding: 0;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            /* Tablet */
            .slide-container {
                width: 90vw;
                min-height: 50.625vw; /* 16:9 aspect ratio */
                max-height: 90vh;
            }
            
            .content-layout {
                padding: 30px 35px;
            }
            
            h2.slide-title {
                font-size: 32px;
            }
            
            h3 {
                font-size: 24px;
            }
            
            p, li {
                font-size: 18px;
            }
            
            .nav-controls {
                bottom: 20px;
                gap: 15px;
            }
            
            .nav-btn {
                padding: 12px 20px;
                font-size: 16px;
            }
            
            .thumbnail-bar {
                max-height: 120px;
            }
            
            .thumbnail-item {
                width: 100px;
                height: 67px;
            }
        }

        @media (max-width: 768px) {
            /* Mobile */
            .slide-container {
                width: 95vw;
                min-height: 53.4375vw; /* 16:9 aspect ratio */
                max-height: 85vh;
                border-radius: 15px;
            }
            
            .slide-section {
                padding: 20px 10px;
            }
            
            .content-layout {
                padding: 25px 20px;
            }
            
            h2.slide-title {
                font-size: 24px;
                margin-bottom: 15px;
            }
            
            h3 {
                font-size: 20px;
                margin-bottom: 12px;
            }
            
            p, li {
                font-size: 16px;
                margin-bottom: 10px;
            }
            
            .title-layout {
                padding: 40px 30px;
            }
            
            .title-layout h1 {
                font-size: 36px;
            }
            
            .title-layout .subtitle {
                font-size: 24px;
            }
            
            .nav-controls {
                bottom: 15px;
                gap: 10px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-btn {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .slide-counter {
                padding: 8px 15px;
                font-size: 14px;
            }
            
            .fullscreen-btn {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .thumbnail-bar {
                max-height: 100px;
                padding: 10px;
            }
            
            .thumbnail-item {
                width: 80px;
                height: 53px;
            }
            
            .grid-body {
                grid-template-columns: 1fr !important;
            }
            
            .two-col-layout {
                grid-template-columns: 1fr !important;
                gap: 20px;
            }
        }

        @media (max-width: 480px) {
            /* Small Mobile */
            .slide-container {
                width: 98vw;
                min-height: 55.125vw;
                max-height: 80vh;
            }
            
            h2.slide-title {
                font-size: 20px;
            }
            
            h3 {
                font-size: 18px;
            }
            
            p, li {
                font-size: 14px;
            }
            
            .title-layout h1 {
                font-size: 28px;
            }
            
            .title-layout .subtitle {
                font-size: 20px;
            }
        }

        /* Import styles from styles.css */
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
        }

        h2.slide-title {
            font-size: 38px;
            font-weight: 800;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: -1px;
        }

        h3 {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        p, li {
            font-size: 18px;
            line-height: 1.5;
            color: #37474f;
            margin-bottom: 10px;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        ul li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        ul li i {
            font-size: 19px;
            margin-right: 13px;
            min-width: 21px;
            padding-top: 3px;
        }

        b {
            color: #2e7d32;
            font-weight: 700;
        }

        /* Title Layout */
        .title-layout {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .title-layout h1 {
            font-size: 52px;
            font-weight: 800;
            margin-bottom: 25px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .title-layout .subtitle {
            font-size: 30px;
            font-weight: 300;
            margin-bottom: 40px;
            opacity: 0.95;
        }

        .title-layout .members {
            margin-top: 40px;
            font-size: 22px;
        }

        .title-layout .members p {
            color: white;
            margin-bottom: 12px;
            font-size: 20px;
        }

        /* Content Layout */
        .content-layout {
            padding: 30px 40px;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-layout h2.slide-title {
            font-size: 36px;
            margin-bottom: 20px;
            flex-shrink: 0;
            color: #1565c0;
        }

        .content-layout .content-body {
            flex: 1;
            overflow-y: auto;
            padding-right: 10px;
            min-height: 0;
        }

        .content-layout ul li {
            font-size: 18px;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .content-layout p {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        /* Two Column Layout */
        .two-col-layout {
            padding: 30px 40px;
            height: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            overflow: hidden;
        }

        .two-col-layout .col {
            overflow-y: auto;
            padding-right: 10px;
            min-height: 0;
        }

        .section-title {
            color: #558b2f;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
            border-bottom: 3px solid #a5d6a7;
            padding-bottom: 6px;
        }

        /* Grid Content */
        .grid-body {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
        }

        .grid-item {
            background: #f8f9fa;
            padding: 18px;
            border-radius: 10px;
            border-left: 4px solid #00796b;
        }

        .grid-item h3 {
            font-size: 20px;
            color: #00796b;
            margin-bottom: 10px;
        }

        .grid-item ul li {
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        /* Steps Layout */
        .steps-layout {
            padding: 0;
        }

        .step-item {
            display: flex;
            margin-bottom: 18px;
            align-items: flex-start;
        }

        .step-number {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            flex-shrink: 0;
            margin-right: 15px;
        }

        .step-content {
            flex: 1;
        }

        .step-content h3 {
            font-size: 22px;
            color: #1565c0;
            margin-bottom: 6px;
        }

        .step-content p {
            font-size: 16px;
            line-height: 1.4;
        }

        /* TOC Layout */
        .toc-layout {
            padding: 30px 40px;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .toc-layout h2.slide-title {
            font-size: 36px;
            margin-bottom: 20px;
            text-align: center;
            color: #1565c0;
        }

        .toc-list {
            flex: 1;
            overflow-y: auto;
            padding-right: 10px;
        }

        .toc-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            margin-bottom: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #00796b;
        }

        .toc-item .toc-number {
            font-size: 24px;
            font-weight: 700;
            color: #00796b;
            margin-right: 20px;
            min-width: 50px;
        }

        .toc-item .toc-text {
            font-size: 20px;
            color: #37474f;
            font-weight: 500;
        }

        /* Navigation Controls */
        .nav-controls {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: none !important;
            gap: 20px;
            align-items: center;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: transform 0.2s, opacity 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .slide-counter {
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            color: #37474f;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* Hide all slides by default, show only active when not in fullscreen */
        body:not(.fullscreen) .slide-section {
            display: none;
            content-visibility: hidden;
            contain-intrinsic-size: 1280px 720px;
        }

        body:not(.fullscreen) .slide-section.active {
            display: flex;
            content-visibility: auto;
        }

        /* In fullscreen, only show active slide */
        body.fullscreen .slide-section {
            display: none;
            content-visibility: hidden;
        }

        body.fullscreen .slide-section.active {
            display: flex;
            content-visibility: auto;
        }

        /* Fullscreen Mode - Scale 16:9 container to fit screen */
        body.fullscreen {
            overflow: hidden;
            background: #000;
        }

        body.fullscreen .slide-section.active {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1000;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 !important;
        }

        body.fullscreen .slide-container {
            /* Scale to fit screen while maintaining 16:9 aspect ratio */
            width: min(100vw, 100vh * 16 / 9);
            height: min(100vh, 100vw * 9 / 16);
            max-width: 100vw;
            max-height: 100vh;
            border-radius: 0;
            box-shadow: none;
            transform: scale(1);
        }

        body.fullscreen .nav-controls {
            bottom: 20px;
        }


        body.fullscreen .thumbnail-bar {
            display: none;
        }

        body.fullscreen .fullscreen-btn {
            display: none !important;
        }

        /* Thumbnail Navigation Bar */
        .thumbnail-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            border-top: 2px solid #e0e0e0;
            padding: 15px;
            z-index: 999;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            overflow-y: hidden;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            max-height: 150px;
            scroll-behavior: smooth;
            scroll-snap-type: x proximity;
            /* Hide scrollbar but keep functionality */
            scrollbar-width: thin;
            scrollbar-color: #667eea #f0f0f0;
        }

        .thumbnail-bar::-webkit-scrollbar {
            height: 8px;
        }

        .thumbnail-bar::-webkit-scrollbar-track {
            background: #f0f0f0;
        }

        .thumbnail-bar::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .thumbnail-bar::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }

        .thumbnail-item {
            flex-shrink: 0;
            width: 120px;
            height: 80px;
            border: 3px solid transparent;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            position: relative;
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }

        .thumbnail-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .thumbnail-item.active {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }

        .thumbnail-item img,
        .thumbnail-item canvas {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .thumbnail-number {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            text-align: center;
            font-size: 12px;
            padding: 3px;
            font-weight: 600;
        }

        /* Fullscreen Toggle Button */
        .fullscreen-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 15px;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }

        .fullscreen-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        body.fullscreen .fullscreen-btn {
            display: none !important;
        }

        /* Click to advance in fullscreen */
        body.fullscreen .slide-section {
            cursor: pointer;
        }

        @media print {
            .nav-controls,
            .thumbnail-bar,
            .fullscreen-btn,
            .download-btn {
                display: none !important;
            }
            
            .slide-section {
                display: flex !important;
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <!-- Fullscreen Toggle Button -->
    <button class="fullscreen-btn" onclick="toggleFullscreen()" id="fullscreenBtn" title="Toàn màn hình">
        <i class="fa-solid fa-expand"></i>
    </button>

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">
            <i class="fa-solid fa-chevron-left"></i>
            Trước
        </button>
        <div class="slide-counter">
            <span id="currentSlide">1</span> / <span id="totalSlides">1</span>
        </div>
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">
            Tiếp
            <i class="fa-solid fa-chevron-right"></i>
        </button>
    </div>

    <!-- SLIDE 1: Đề tài và Thành viên -->
    <section class="slide-section active" data-slide="1">
        <div class="slide-container" style="background: linear-gradient(180deg, #90caf9 0%, #b0bec5 50%, #cfd8dc 100%); position: relative; overflow: hidden; padding: 0;">
            <div style="padding: 35px 50px; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; z-index: 1;">
                <!-- Header -->
                <div style="margin-bottom: 25px; color: #ffffff;">
                    <p style="font-size: 16px; margin-bottom: 3px; font-weight: 500; letter-spacing: 1.5px; text-transform: uppercase; text-shadow: none; font-family: 'Roboto', sans-serif;">TRƯỜNG ĐẠI HỌC CÔNG THƯƠNG TP. HỒ CHÍ MINH</p>
                    <p style="font-size: 16px; font-weight: 500; letter-spacing: 1.5px; text-transform: uppercase; text-shadow: none; font-family: 'Roboto', sans-serif;">KHOA CÔNG NGHỆ THÔNG TIN</p>
                </div>

                <!-- Main Title -->
                <h1 style="font-size: 32px; font-weight: 800; color: #ffffff; margin-bottom: 20px; line-height: 1.3; font-family: 'Montserrat', sans-serif; text-shadow: none; letter-spacing: -0.5px; text-transform: uppercase;">
                    <span style="display: block; margin-bottom: 6px;">PHÂN LOẠI GIỐNG VÀ XÁC ĐỊNH</span>
                    <span style="display: block;">MẬT ĐỘ RẦY NÂU TRÊN CÂY LÚA</span>
                    <span style="display: block; margin-top: 6px;">ỨNG DỤNG MÔ HÌNH KẾT HỢP</span>
                    <div style="font-size: 32px; margin-top: 15px; font-weight: 800; font-family: 'Montserrat', sans-serif; letter-spacing: 3px;">
                        <span style="color: #ce93d8; text-shadow: none;">SAM</span>
                        <span style="color: #ffffff; margin: 0 8px; text-shadow: none;">-</span>
                        <span style="color: #80deea; text-shadow: none;">VIT</span>
                    </div>
                </h1>

                <!-- Info Box -->
                <div style="background: #ffffff; padding: 30px 40px; border-radius: 15px; text-align: left; max-width: 650px; width: 100%; box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3); margin-top: 25px;">
                    <div style="display: flex; align-items: flex-start; margin-bottom: 15px;">
                        <div style="width: 18px; height: 18px; border: 2px solid #666; border-radius: 3px; margin-right: 12px; margin-top: 2px; flex-shrink: 0;"></div>
                        <p style="font-size: 16px; color: #2c3e50; margin: 0; line-height: 1.5; font-weight: 400; font-family: 'Roboto', sans-serif;">
                            <strong style="color: #2c3e50; font-weight: 700;">Môn học:</strong> Các vấn đề hiện đại trong Trí tuệ nhân tạo
                        </p>
                    </div>
                    <div style="display: flex; align-items: flex-start; margin-bottom: 15px;">
                        <div style="width: 18px; height: 18px; border: 2px solid #666; border-radius: 3px; margin-right: 12px; margin-top: 2px; flex-shrink: 0;"></div>
                        <p style="font-size: 16px; color: #2c3e50; margin: 0; line-height: 1.5; font-weight: 400; font-family: 'Roboto', sans-serif;">
                            <strong style="color: #2c3e50; font-weight: 700;">GVHD:</strong> TS. Phùng Thế Bảo
                        </p>
                    </div>
                    <div style="display: flex; align-items: flex-start;">
                        <div style="width: 18px; height: 18px; border: 2px solid #666; border-radius: 3px; margin-right: 12px; margin-top: 2px; flex-shrink: 0;"></div>
                        <p style="font-size: 16px; color: #2c3e50; margin: 0; line-height: 1.5; font-weight: 400; font-family: 'Roboto', sans-serif;">
                            <strong style="color: #2c3e50; font-weight: 700;">Nhóm SV:</strong> Phạm Tấn Thuận & Lý Dạ Lan
                        </p>
                    </div>
                </div>

                <!-- Slide Number -->
                <!-- <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                    1
                </div> -->
            </div>
        </div>
    </section>

    <!-- SLIDE 2: Mục lục -->
    <section class="slide-section" data-slide="2">
        <div class="slide-container" style="background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%);">
            <div style="padding: 35px 45px; height: 100%; display: flex; flex-direction: column;">
                <!-- Title -->
                <div style="text-align: center; margin-bottom: 20px;">
                    <h2 style="font-size: 38px; font-weight: 800; background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 8px; font-family: 'Montserrat', sans-serif; letter-spacing: -0.5px;">
                        NỘI DUNG TRÌNH BÀY
                    </h2>
                    <div style="height: 4px; background: linear-gradient(90deg, #1565c0 0%, #4caf50 50%, #1565c0 100%); width: 120px; margin: 0 auto; border-radius: 2px;"></div>
                </div>
                
                <!-- Two Column Layout -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; flex: 1; overflow-y: auto; min-height: 0; padding-top: 10px;">
                    <!-- Left Column -->
                    <div>
                        <!-- Chapter 1 -->
                        <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-left: 5px solid #2196f3; border-radius: 12px; padding: 20px; margin-bottom: 18px; box-shadow: 0 4px 12px rgba(33, 150, 243, 0.15); transition: transform 0.2s, box-shadow 0.2s;">
                            <div style="display: flex; align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0; box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);">
                                    <i class="fa-solid fa-book" style="font-size: 24px; color: #ffffff;"></i>
                                </div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 20px; font-weight: 700; color: #1565c0; margin-bottom: 8px; font-family: 'Montserrat', sans-serif; line-height: 1.3;">
                                        Chương 1: Tổng quan đề tài
                                    </h3>
                                    <p style="font-size: 15px; color: #555; line-height: 1.5; font-family: 'Roboto', sans-serif; margin: 0;">
                                        Đặt vấn đề, mục tiêu, phạm vi nghiên cứu.
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Chapter 2 -->
                        <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-left: 5px solid #4caf50; border-radius: 12px; padding: 20px; margin-bottom: 18px; box-shadow: 0 4px 12px rgba(76, 175, 80, 0.15);">
                            <div style="display: flex; align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0; box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);">
                                    <i class="fa-solid fa-microchip" style="font-size: 24px; color: #ffffff;"></i>
                                </div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 20px; font-weight: 700; color: #2e7d32; margin-bottom: 8px; font-family: 'Montserrat', sans-serif; line-height: 1.3;">
                                        Chương 2: Cơ sở lý thuyết
                                    </h3>
                                    <p style="font-size: 15px; color: #555; line-height: 1.5; font-family: 'Roboto', sans-serif; margin: 0;">
                                        CV, YOLO, SAM, Vision Transformer.
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Chapter 3 -->
                        <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-left: 5px solid #ff9800; border-radius: 12px; padding: 20px; margin-bottom: 18px; box-shadow: 0 4px 12px rgba(255, 152, 0, 0.15);">
                            <div style="display: flex; align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0; box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);">
                                    <i class="fa-solid fa-cogs" style="font-size: 24px; color: #ffffff;"></i>
                                </div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 20px; font-weight: 700; color: #e65100; margin-bottom: 8px; font-family: 'Montserrat', sans-serif; line-height: 1.3;">
                                        Chương 3: Thiết kế hệ thống
                                    </h3>
                                    <p style="font-size: 15px; color: #555; line-height: 1.5; font-family: 'Roboto', sans-serif; margin: 0;">
                                        Kiến trúc Pipeline, Xử lý dữ liệu, Tích hợp.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div>
                        <!-- Chapter 4 -->
                        <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-left: 5px solid #9c27b0; border-radius: 12px; padding: 20px; margin-bottom: 18px; box-shadow: 0 4px 12px rgba(156, 39, 176, 0.15);">
                            <div style="display: flex; align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0; box-shadow: 0 4px 8px rgba(156, 39, 176, 0.3);">
                                    <i class="fa-solid fa-chart-line" style="font-size: 24px; color: #ffffff;"></i>
                                </div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 20px; font-weight: 700; color: #7b1fa2; margin-bottom: 8px; font-family: 'Montserrat', sans-serif; line-height: 1.3;">
                                        Chương 4: Kết quả thực nghiệm
                                    </h3>
                                    <p style="font-size: 15px; color: #555; line-height: 1.5; font-family: 'Roboto', sans-serif; margin: 0;">
                                        Training metrics, Phân tích mật độ, Visualization.
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Conclusion -->
                        <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-left: 5px solid #f44336; border-radius: 12px; padding: 20px; margin-bottom: 18px; box-shadow: 0 4px 12px rgba(244, 67, 54, 0.15);">
                            <div style="display: flex; align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0; box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3);">
                                    <i class="fa-solid fa-flag-checkered" style="font-size: 24px; color: #ffffff;"></i>
                                </div>
                                <div style="flex: 1;">
                                    <h3 style="font-size: 20px; font-weight: 700; color: #c62828; margin-bottom: 8px; font-family: 'Montserrat', sans-serif; line-height: 1.3;">
                                        Kết luận & Hướng phát triển
                                    </h3>
                                    <p style="font-size: 15px; color: #555; line-height: 1.5; font-family: 'Roboto', sans-serif; margin: 0;">
                                        Tổng kết đóng góp và đề xuất mở rộng.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide Number -->
                <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                    2
                </div>
            </div>
        </div>
    </section>

    <!-- SLIDE 3: Đặt vấn đề -->
    <section class="slide-section" data-slide="3">
        <div class="slide-container" style="background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%);">
            <div class="content-layout" style="padding: 30px 40px;">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <div style="display: inline-block; background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%); padding: 8px 20px; border-radius: 20px; margin-bottom: 10px;">
                        <h2 style="font-size: 24px; font-weight: 700; color: #ffffff; margin: 0; font-family: 'Montserrat', sans-serif; letter-spacing: 0.5px;">
                            CHƯƠNG 1: TỔNG QUAN ĐỀ TÀI
                        </h2>
                    </div>
                </div>
                
                <!-- Mục -->
                <h2 class="slide-title" style="text-align: center; color: #1565c0; font-size: 22px; margin-bottom: 25px; font-family: 'Montserrat', sans-serif; font-weight: 700; letter-spacing: 0.3px;">
                    Đặt vấn đề
                </h2>
                
                <div class="content-body" style="overflow-y: auto; min-height: 0;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px;">
                        <!-- Left Column: Bối cảnh & Thách thức -->
                        <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-top: 5px solid #4caf50;">
                            <div style="display: flex; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #e8f5e9;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 12px; box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);">
                                    <i class="fa-solid fa-exclamation-circle" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #2e7d32; font-size: 20px; font-weight: 700; margin: 0; font-family: 'Montserrat', sans-serif;">Bối cảnh & Thách thức</h3>
                            </div>
                            
                            <!-- Thách thức Truyền thống -->
                            <div style="margin-bottom: 22px; background: #fff9e6; padding: 15px; border-radius: 10px; border-left: 4px solid #ff9800;">
                                <h4 style="color: #e65100; font-size: 17px; margin-bottom: 12px; font-weight: 600; font-family: 'Montserrat', sans-serif; display: flex; align-items: center;">
                                    <i class="fa-solid fa-hand-paper" style="margin-right: 8px; font-size: 18px;"></i>
                                    Thách thức Truyền thống
                                </h4>
                                <ul style="list-style: none; padding: 0; margin: 0;">
                                    <li style="margin-bottom: 10px; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-seedling" style="color: #2e7d32; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span><b style="color: #2e7d32;">Lúa:</b> Cây trồng chủ lực, chịu thiệt hại nặng nề từ <b>rầy nâu</b> và sâu bệnh.</span>
                                    </li>
                                    <li style="margin-bottom: 10px; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-clock" style="color: #f57c00; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span><b>Giám sát thủ công:</b> Tốn <b>thời gian</b>, <b>chi phí</b>, và <b>độ chính xác thấp</b> (dựa vào kinh nghiệm).</span>
                                    </li>
                                    <li style="margin-bottom: 0; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-map-location-dot" style="color: #607d8b; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span><b>Quy mô lớn:</b> Khó đưa ra cảnh báo <b>kịp thời và khách quan</b> trên diện rộng.</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <!-- Giải pháp AI & Giới hạn -->
                            <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; border-left: 4px solid #2196f3;">
                                <h4 style="color: #1565c0; font-size: 17px; margin-bottom: 12px; font-weight: 600; font-family: 'Montserrat', sans-serif; display: flex; align-items: center;">
                                    <i class="fa-solid fa-robot" style="margin-right: 8px; font-size: 18px;"></i>
                                    Giải pháp AI & Giới hạn
                                </h4>
                                <ul style="list-style: none; padding: 0; margin: 0;">
                                    <li style="margin-bottom: 10px; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-check-circle" style="color: #4caf50; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span><b>AI & YOLO:</b> Đã giải quyết tốt bài toán <b>Phát hiện (Detection)</b> và <b>Phân loại</b> rầy.</span>
                                    </li>
                                    <li style="margin-bottom: 0; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-square" style="color: #c62828; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span><b>Hộp bao (Bounding Box):</b> Chỉ là <b>vùng ước lượng</b> bao quanh đối tượng, <b style="color: #c62828;">KHÔNG</b> tách biệt rầy khỏi nền.</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <!-- Visual Illustration -->
                            <div style="margin-top: 18px; padding: 12px; background: #f5f5f5; border-radius: 8px; text-align: center;">
                                <div style="font-size: 12px; color: #666; margin-bottom: 8px; font-weight: 600; font-family: 'Roboto', sans-serif;">MINH HỌA</div>
                                <div style="display: flex; justify-content: space-around; align-items: center;">
                                    <div style="text-align: center;">
                                        <div style="width: 80px; height: 60px; background: #e8f5e9; border: 2px dashed #4caf50; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px;">
                                            <i class="fa-solid fa-image" style="font-size: 24px; color: #4caf50;"></i>
                                        </div>
                                        <div style="font-size: 11px; color: #666; font-family: 'Roboto', sans-serif;">Hình ảnh lá lúa</div>
                                    </div>
                                    <div style="font-size: 20px; color: #999;">→</div>
                                    <div style="text-align: center;">
                                        <div style="width: 80px; height: 60px; background: #fff3e0; border: 3px solid #ff9800; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px; position: relative;">
                                            <div style="position: absolute; width: 50px; height: 40px; border: 2px solid #c62828; border-radius: 4px; background: rgba(198, 40, 40, 0.1);"></div>
                                            <i class="fa-solid fa-square" style="font-size: 20px; color: #c62828; position: relative; z-index: 1;"></i>
                                        </div>
                                        <div style="font-size: 11px; color: #666; font-family: 'Roboto', sans-serif;">Bounding Box</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column: Khoảng trống Nghiên cứu -->
                        <div style="background: linear-gradient(135deg, #ffffff 0%, #fff5f5 100%); padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-top: 5px solid #f44336;">
                            <div style="display: flex; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #ffebee;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 12px; box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3);">
                                    <i class="fa-solid fa-lightbulb" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #c62828; font-size: 20px; font-weight: 700; margin: 0; font-family: 'Montserrat', sans-serif;">Khoảng trống Nghiên cứu</h3>
                            </div>
                            
                            <!-- Thách thức về Độ chính xác -->
                            <div style="margin-bottom: 22px; background: #ffebee; padding: 15px; border-radius: 10px; border-left: 4px solid #f44336;">
                                <h4 style="color: #c62828; font-size: 17px; margin-bottom: 12px; font-weight: 600; font-family: 'Montserrat', sans-serif; display: flex; align-items: center;">
                                    <i class="fa-solid fa-times-circle" style="margin-right: 8px; font-size: 18px;"></i>
                                    Thách thức về Độ chính xác
                                </h4>
                                <ul style="list-style: none; padding: 0; margin: 0;">
                                    <li style="margin-bottom: 10px; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-ban" style="color: #c62828; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span><b>KHÔNG</b> thể tách biệt rầy khỏi nền lá lúa ở mức độ <b>pixel-level</b>.</span>
                                    </li>
                                    <li style="margin-bottom: 0; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-exclamation-triangle" style="color: #ff9800; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span>Khó tính toán <b>mật độ chính xác</b> từ bounding boxes.</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <!-- Nhu cầu Cấp thiết -->
                            <div style="background: #e8eaf6; padding: 15px; border-radius: 10px; border-left: 4px solid #3f51b5;">
                                <h4 style="color: #283593; font-size: 17px; margin-bottom: 12px; font-weight: 600; font-family: 'Montserrat', sans-serif; display: flex; align-items: center;">
                                    <i class="fa-solid fa-bullseye" style="margin-right: 8px; font-size: 18px;"></i>
                                    Nhu cầu Cấp thiết
                                </h4>
                                <ul style="list-style: none; padding: 0; margin: 0;">
                                    <li style="margin-bottom: 10px; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-mask" style="color: #3f51b5; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span>Cần <b>Phân đoạn thực thể (Instance Segmentation)</b> để tách biệt từng cá thể rầy.</span>
                                    </li>
                                    <li style="margin-bottom: 10px; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-calculator" style="color: #3f51b5; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span>Yếu tố then chốt để tính <b>Mật độ rầy/m²</b> một cách <b>khoa học và chính xác</b>.</span>
                                    </li>
                                    <li style="margin-bottom: 0; font-size: 15px; line-height: 1.5; font-family: 'Roboto', sans-serif; color: #333; display: flex; align-items: flex-start;">
                                        <i class="fa-solid fa-chart-line" style="color: #3f51b5; margin-right: 10px; margin-top: 3px; font-size: 16px; flex-shrink: 0;"></i>
                                        <span>Hỗ trợ đánh giá mức độ xâm nhiễm và dự báo dịch hại.</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <!-- Visual Illustration -->
                            <div style="margin-top: 18px; padding: 12px; background: #f5f5f5; border-radius: 8px; text-align: center;">
                                <div style="font-size: 12px; color: #666; margin-bottom: 8px; font-weight: 600; font-family: 'Roboto', sans-serif;">GIẢI PHÁP</div>
                                <div style="display: flex; justify-content: space-around; align-items: center;">
                                    <div style="text-align: center;">
                                        <div style="width: 80px; height: 60px; background: #e8f5e9; border: 2px dashed #4caf50; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px;">
                                            <i class="fa-solid fa-image" style="font-size: 24px; color: #4caf50;"></i>
                                        </div>
                                        <div style="font-size: 11px; color: #666; font-family: 'Roboto', sans-serif;">Hình ảnh lá lúa</div>
                                    </div>
                                    <div style="font-size: 20px; color: #999;">→</div>
                                    <div style="text-align: center;">
                                        <div style="width: 80px; height: 60px; background: #e3f2fd; border: 3px solid #2196f3; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px; position: relative; overflow: hidden;">
                                            <div style="position: absolute; width: 30px; height: 30px; background: #4caf50; border-radius: 50%; top: 10px; left: 10px; border: 2px solid #2e7d32;"></div>
                                            <div style="position: absolute; width: 25px; height: 25px; background: #ff9800; border-radius: 50%; bottom: 10px; right: 10px; border: 2px solid #f57c00;"></div>
                                            <i class="fa-solid fa-mask" style="font-size: 20px; color: #2196f3; position: relative; z-index: 1;"></i>
                                        </div>
                                        <div style="font-size: 11px; color: #666; font-family: 'Roboto', sans-serif;">Segmentation</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
             <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                3
            </div>
        </div>
    </section>

    <!-- SLIDE 4: Nghiên cứu liên quan -->
    <section class="slide-section" data-slide="4">
        <div class="slide-container" style="background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%);">
            <div class="content-layout" style="padding: 25px 35px;">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 10px;">
                    <div style="display: inline-block; background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%); padding: 6px 18px; border-radius: 20px;">
                        <h2 style="font-size: 20px; font-weight: 700; color: #ffffff; margin: 0; font-family: 'Montserrat', sans-serif; letter-spacing: 0.5px;">
                            CHƯƠNG 1: TỔNG QUAN ĐỀ TÀI
                        </h2>
                    </div>
                </div>
                
                <!-- Mục -->
                <h2 class="slide-title" style="text-align: center; color: #1565c0; font-size: 28px; margin-bottom: 18px; font-family: 'Montserrat', sans-serif; font-weight: 700; letter-spacing: 0.3px;">
                    Nghiên cứu liên quan
                </h2>
                
                <div class="content-body" style="overflow: hidden; display: flex; flex-direction: column;">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; flex: 1; min-height: 0;">
                        <!-- Nghiên cứu 1: RPH-Counter -->
                        <div style="background: #ffffff; padding: 14px; border-radius: 12px; box-shadow: 0 4px 12px rgba(33, 150, 243, 0.15); border-top: 4px solid #2196f3; display: flex; flex-direction: column; overflow: hidden;">
                            <div style="text-align: center; margin-bottom: 10px;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);">
                                    <i class="fa-solid fa-microscope" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #1565c0; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; font-family: 'Montserrat', sans-serif;">RPH-Counter</h3>
                                <div style="font-size: 10px; color: #666; font-family: 'Roboto', sans-serif; font-style: italic; margin-bottom: 6px;">
                                    Zhang et al. (2024)
                                </div>
                                <a href="https://www.sciencedirect.com/science/article/abs/pii/S0168169924006331" target="_blank" style="font-size: 9px; color: #2196f3; text-decoration: none; font-family: 'Roboto', sans-serif;">ScienceDirect →</a>
                            </div>
                            <div style="background: #f0f7ff; padding: 8px; border-radius: 6px; margin-bottom: 8px; border-left: 2px solid #2196f3;">
                                <div style="font-size: 10px; color: #1565c0; font-weight: 600; margin-bottom: 4px; font-family: 'Montserrat', sans-serif;">Giới thiệu:</div>
                                <div style="font-size: 10px; color: #333; line-height: 1.4; font-family: 'Roboto', sans-serif;">
                                    Mạng FCN với Object Counting loss để phát hiện và đếm rầy nâu trên đồng ruộng. Dataset 140,000 rầy nâu từ thực địa.
                                </div>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; gap: 8px; min-height: 0;">
                                <div style="background: #e8f5e9; padding: 8px; border-radius: 6px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 10px; font-weight: 600; color: #2e7d32; margin-bottom: 5px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-check-circle" style="margin-right: 4px; font-size: 9px;"></i>Ưu điểm
                                    </div>
                                    <ul style="list-style: none; padding: 0; margin: 0;">
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; margin-bottom: 3px; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-check" style="color: #4caf50; margin-right: 4px; font-size: 8px;"></i>
                                            F1 = 92.36%, MAE = 2.40
                                        </li>
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; margin-bottom: 0; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-check" style="color: #4caf50; margin-right: 4px; font-size: 8px;"></i>
                                            R² = 0.985, độ phức tạp thấp
                                        </li>
                                    </ul>
                                </div>
                                <div style="background: #ffebee; padding: 8px; border-radius: 6px; border-left: 3px solid #f44336;">
                                    <div style="font-size: 10px; font-weight: 600; color: #c62828; margin-bottom: 5px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-times-circle" style="margin-right: 4px; font-size: 9px;"></i>Hạn chế
                                    </div>
                                    <ul style="list-style: none; padding: 0; margin: 0;">
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-times" style="color: #f44336; margin-right: 4px; font-size: 8px;"></i>
                                            Không có <b>segmentation pixel-level</b>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Nghiên cứu 2: SwinT-YOLOv8-p2 -->
                        <div style="background: #ffffff; padding: 14px; border-radius: 12px; box-shadow: 0 4px 12px rgba(255, 152, 0, 0.15); border-top: 4px solid #ff9800; display: flex; flex-direction: column; overflow: hidden;">
                            <div style="text-align: center; margin-bottom: 10px;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);">
                                    <i class="fa-solid fa-brain" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #e65100; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; font-family: 'Montserrat', sans-serif;">SwinT-YOLOv8-p2</h3>
                                <div style="font-size: 10px; color: #666; font-family: 'Roboto', sans-serif; font-style: italic; margin-bottom: 6px;">
                                    Ji et al. (2025)
                                </div>
                                <a href="https://www.mdpi.com/2077-0472/15/13/1366" target="_blank" style="font-size: 9px; color: #ff9800; text-decoration: none; font-family: 'Roboto', sans-serif;">MDPI Agriculture →</a>
                            </div>
                            <div style="background: #fff8e1; padding: 8px; border-radius: 6px; margin-bottom: 8px; border-left: 2px solid #ff9800;">
                                <div style="font-size: 10px; color: #e65100; font-weight: 600; margin-bottom: 4px; font-family: 'Montserrat', sans-serif;">Giới thiệu:</div>
                                <div style="font-size: 10px; color: #333; line-height: 1.4; font-family: 'Roboto', sans-serif;">
                                    Tích hợp Swin Transformer vào YOLOv8-p2 và SCConv để phát hiện rầy nâu và rầy lưng trắng từ ảnh RGB. Dataset công khai.
                                </div>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; gap: 8px; min-height: 0;">
                                <div style="background: #e8f5e9; padding: 8px; border-radius: 6px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 10px; font-weight: 600; color: #2e7d32; margin-bottom: 5px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-check-circle" style="margin-right: 4px; font-size: 9px;"></i>Ưu điểm
                                    </div>
                                    <ul style="list-style: none; padding: 0; margin: 0;">
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; margin-bottom: 3px; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-check" style="color: #4caf50; margin-right: 4px; font-size: 8px;"></i>
                                            mAP@0.5 = 0.847, F1 = 0.899
                                        </li>
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; margin-bottom: 0; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-check" style="color: #4caf50; margin-right: 4px; font-size: 8px;"></i>
                                            R² > 0.85, RMSE < 0.64
                                        </li>
                                    </ul>
                                </div>
                                <div style="background: #ffebee; padding: 8px; border-radius: 6px; border-left: 3px solid #f44336;">
                                    <div style="font-size: 10px; font-weight: 600; color: #c62828; margin-bottom: 5px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-times-circle" style="margin-right: 4px; font-size: 9px;"></i>Hạn chế
                                    </div>
                                    <ul style="list-style: none; padding: 0; margin: 0;">
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-times" style="color: #f44336; margin-right: 4px; font-size: 8px;"></i>
                                            Chỉ dùng <b>bounding boxes</b>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Nghiên cứu 3: U-Net, Mask R-CNN, DeepLabV3+ -->
                        <div style="background: #ffffff; padding: 14px; border-radius: 12px; box-shadow: 0 4px 12px rgba(156, 39, 176, 0.15); border-top: 4px solid #9c27b0; display: flex; flex-direction: column; overflow: hidden;">
                            <div style="text-align: center; margin-bottom: 10px;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; box-shadow: 0 4px 8px rgba(156, 39, 176, 0.3);">
                                    <i class="fa-solid fa-network-wired" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #7b1fa2; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; font-family: 'Montserrat', sans-serif;">U-Net, Mask R-CNN, DeepLabV3+</h3>
                                <div style="font-size: 10px; color: #666; font-family: 'Roboto', sans-serif; font-style: italic; margin-bottom: 6px;">
                                    Mostafid (2024) - Review
                                </div>
                                <a href="https://medium.com/@t.mostafid/tumor-segmentation-with-u-net-and-deeplabv3-a-review-048e10001fb2" target="_blank" style="font-size: 9px; color: #9c27b0; text-decoration: none; font-family: 'Roboto', sans-serif;">Medium Review →</a>
                            </div>
                            <div style="background: #f3e5f5; padding: 8px; border-radius: 6px; margin-bottom: 8px; border-left: 2px solid #9c27b0;">
                                <div style="font-size: 10px; color: #7b1fa2; font-weight: 600; margin-bottom: 4px; font-family: 'Montserrat', sans-serif;">Giới thiệu:</div>
                                <div style="font-size: 10px; color: #333; line-height: 1.4; font-family: 'Roboto', sans-serif;">
                                    Các mô hình segmentation phổ biến: U-Net (encoder-decoder), DeepLabV3+ (atrous convolution), Mask R-CNN (instance segmentation). Áp dụng trong y học và nông nghiệp.
                                </div>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; gap: 8px; min-height: 0;">
                                <div style="background: #e8f5e9; padding: 8px; border-radius: 6px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 10px; font-weight: 600; color: #2e7d32; margin-bottom: 5px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-check-circle" style="margin-right: 4px; font-size: 9px;"></i>Ưu điểm
                                    </div>
                                    <ul style="list-style: none; padding: 0; margin: 0;">
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-check" style="color: #4caf50; margin-right: 4px; font-size: 8px;"></i>
                                            Áp dụng cho phân đoạn bệnh lá
                                        </li>
                                    </ul>
                                </div>
                                <div style="background: #ffebee; padding: 8px; border-radius: 6px; border-left: 3px solid #f44336;">
                                    <div style="font-size: 10px; font-weight: 600; color: #c62828; margin-bottom: 5px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-times-circle" style="margin-right: 4px; font-size: 9px;"></i>Hạn chế
                                    </div>
                                    <ul style="list-style: none; padding: 0; margin: 0;">
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; margin-bottom: 3px; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-times" style="color: #f44336; margin-right: 4px; font-size: 8px;"></i>
                                            Phụ thuộc <b>gán nhãn thủ công</b>
                                        </li>
                                        <li style="font-size: 10px; line-height: 1.3; color: #333; margin-bottom: 0; font-family: 'Roboto', sans-serif;">
                                            <i class="fa-solid fa-times" style="color: #f44336; margin-right: 4px; font-size: 8px;"></i>
                                            Hiệu suất thấp trong <b>thực địa</b>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Nhận xét chung -->
                    <div style="background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%); padding: 10px; border-radius: 12px; border-left: 4px solid #ffc107; box-shadow: 0 3px 12px rgba(255, 193, 7, 0.15); margin-top: 10px; flex-shrink: 0; margin-bottom: 60px;">
                        <div style="display: flex; align-items: center; margin-bottom: 5px;">
                            <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #ffc107 0%, #ffa000 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 8px; box-shadow: 0 3px 6px rgba(255, 193, 7, 0.3);">
                                <i class="fa-solid fa-lightbulb" style="font-size: 15px; color: #ffffff;"></i>
                            </div>
                            <h3 style="color: #f57f17; font-size: 14px; font-weight: 700; margin: 0; font-family: 'Montserrat', sans-serif;">Nhận xét chung</h3>
                        </div>
                        <p style="color: #856404; font-size: 12px; line-height: 1.4; margin: 0; font-family: 'Roboto', sans-serif;">
                            Hầu hết các nghiên cứu tập trung vào <b style="color: #1565c0;">detection</b> hoặc <b style="color: #1565c0;">counting</b>, 
                            chưa khai thác <b style="color: #c62828;">segmentation pixel-level</b> - yếu tố then chốt để đánh giá 
                            mật độ và mức độ xâm nhiễm chính xác.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
             <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                4
            </div>
        </div>
    </section>

    <!-- SLIDE 5: Tính mới của đồ án -->
    <section class="slide-section" data-slide="5">
        <div class="slide-container" style="background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%);">
            <div class="content-layout" style="padding: 25px 35px;">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 10px;">
                    <div style="display: inline-block; background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%); padding: 6px 18px; border-radius: 20px;">
                        <h2 style="font-size: 20px; font-weight: 700; color: #ffffff; margin: 0; font-family: 'Montserrat', sans-serif; letter-spacing: 0.5px;">
                            CHƯƠNG 1: TỔNG QUAN ĐỀ TÀI
                        </h2>
                    </div>
                </div>
                
                <!-- Mục -->
                <h2 class="slide-title" style="text-align: center; color: #1565c0; font-size: 28px; margin-bottom: 18px; font-family: 'Montserrat', sans-serif; font-weight: 700; letter-spacing: 0.3px;">
                    Tính mới của đồ án
                </h2>
                
                <div class="content-body" style="overflow: visible; display: flex; flex-direction: column; gap: 16px;">
                    <!-- Điểm đột phá chính -->
                    <div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); padding: 12px 16px; border-radius: 12px; border-left: 4px solid #2196f3; box-shadow: 0 3px 10px rgba(33, 150, 243, 0.15); flex-shrink: 0;">
                        <div style="display: flex; align-items: center; margin-bottom: 6px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 12px; box-shadow: 0 3px 8px rgba(33, 150, 243, 0.3); flex-shrink: 0;">
                                <i class="fa-solid fa-lightbulb" style="font-size: 20px; color: #ffffff;"></i>
                            </div>
                            <h3 style="color: #1565c0; font-size: 18px; font-weight: 700; margin: 0; font-family: 'Montserrat', sans-serif;">Điểm Đột phá Chính</h3>
                        </div>
                        <p style="font-size: 13px; line-height: 1.5; color: #1565c0; margin: 0; font-family: 'Roboto', sans-serif;">
                            Kết hợp <b style="color: #1976d2;">YOLO</b> và <b style="color: #1976d2;">SAM-ViT</b> trong pipeline tuần tự - 
                            <b style="color: #c62828;">chưa được áp dụng</b> cho bài toán rầy nâu trên cây lúa.
                        </p>
                    </div>

                    <!-- Sơ đồ Pipeline minh họa -->
                    <div style="background: #ffffff; padding: 14px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); border: 2px solid #e0e0e0; flex-shrink: 0;">
                        <div style="text-align: center; margin-bottom: 10px;">
                            <div style="display: inline-flex; align-items: center; gap: 8px; background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%); padding: 6px 14px; border-radius: 20px; box-shadow: 0 2px 6px rgba(76, 175, 80, 0.3);">
                                <i class="fa-solid fa-diagram-project" style="font-size: 14px; color: #ffffff;"></i>
                                <span style="font-size: 13px; font-weight: 600; color: #ffffff; font-family: 'Montserrat', sans-serif;">Pipeline Xử lý</span>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap;">
                            <!-- Input -->
                            <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); padding: 10px 14px; border-radius: 10px; border: 2px solid #ff9800; min-width: 100px; text-align: center; box-shadow: 0 2px 6px rgba(255, 152, 0, 0.2);">
                                <i class="fa-solid fa-image" style="font-size: 20px; color: #e65100; margin-bottom: 4px; display: block;"></i>
                                <div style="font-size: 11px; font-weight: 600; color: #e65100; font-family: 'Montserrat', sans-serif;">Ảnh Đầu vào</div>
                            </div>
                            <!-- Arrow -->
                            <i class="fa-solid fa-arrow-right" style="font-size: 18px; color: #757575;"></i>
                            <!-- YOLO -->
                            <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 10px 14px; border-radius: 10px; border: 2px solid #4caf50; min-width: 100px; text-align: center; box-shadow: 0 2px 6px rgba(76, 175, 80, 0.2);">
                                <i class="fa-solid fa-bullseye" style="font-size: 20px; color: #2e7d32; margin-bottom: 4px; display: block;"></i>
                                <div style="font-size: 11px; font-weight: 600; color: #2e7d32; font-family: 'Montserrat', sans-serif;">YOLO</div>
                                <div style="font-size: 9px; color: #388e3c; font-family: 'Roboto', sans-serif; margin-top: 2px;">Detection</div>
                            </div>
                            <!-- Arrow -->
                            <i class="fa-solid fa-arrow-right" style="font-size: 18px; color: #757575;"></i>
                            <!-- SAM-ViT -->
                            <div style="background: linear-gradient(135deg, #e1f5fe 0%, #b3e5fc 100%); padding: 10px 14px; border-radius: 10px; border: 2px solid #2196f3; min-width: 100px; text-align: center; box-shadow: 0 2px 6px rgba(33, 150, 243, 0.2);">
                                <i class="fa-solid fa-crop" style="font-size: 20px; color: #1565c0; margin-bottom: 4px; display: block;"></i>
                                <div style="font-size: 11px; font-weight: 600; color: #1565c0; font-family: 'Montserrat', sans-serif;">SAM-ViT</div>
                                <div style="font-size: 9px; color: #1976d2; font-family: 'Roboto', sans-serif; margin-top: 2px;">Segmentation</div>
                            </div>
                            <!-- Arrow -->
                            <i class="fa-solid fa-arrow-right" style="font-size: 18px; color: #757575;"></i>
                            <!-- Output -->
                            <div style="background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); padding: 10px 14px; border-radius: 10px; border: 2px solid #9c27b0; min-width: 100px; text-align: center; box-shadow: 0 2px 6px rgba(156, 39, 176, 0.2);">
                                <i class="fa-solid fa-chart-line" style="font-size: 20px; color: #7b1fa2; margin-bottom: 4px; display: block;"></i>
                                <div style="font-size: 11px; font-weight: 600; color: #7b1fa2; font-family: 'Montserrat', sans-serif;">Kết quả</div>
                                <div style="font-size: 9px; color: #8e24aa; font-family: 'Roboto', sans-serif; margin-top: 2px;">Mật độ</div>
                            </div>
                        </div>
                    </div>

                    <!-- 3 Card giải thích -->
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; flex: 1; min-height: 0; margin-bottom: 60px;">
                        <!-- Card 1: Kết hợp YOLO và SAM-ViT -->
                        <div style="background: #ffffff; padding: 14px; border-radius: 12px; box-shadow: 0 4px 12px rgba(76, 175, 80, 0.15); border-top: 4px solid #4caf50; display: flex; flex-direction: column; overflow: hidden;">
                            <div style="text-align: center; margin-bottom: 10px;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);">
                                    <i class="fa-solid fa-link" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #2e7d32; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; font-family: 'Montserrat', sans-serif;">1. Kết hợp YOLO & SAM-ViT</h3>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; gap: 8px; min-height: 0;">
                                <div style="background: #f1f8e9; padding: 8px; border-radius: 6px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 10px; line-height: 1.4; color: #333; font-family: 'Roboto', sans-serif;">
                                        <i class="fa-solid fa-check" style="color: #4caf50; margin-right: 4px; font-size: 9px;"></i>
                                        <b>YOLO:</b> Phát hiện và phân loại rầy nâu, rầy lưng trắng, sâu ăn lá
                                    </div>
                                </div>
                                <div style="background: #f1f8e9; padding: 8px; border-radius: 6px; border-left: 3px solid #4caf50;">
                                    <div style="font-size: 10px; line-height: 1.4; color: #333; font-family: 'Roboto', sans-serif;">
                                        <i class="fa-solid fa-check" style="color: #4caf50; margin-right: 4px; font-size: 9px;"></i>
                                        <b>SAM-ViT:</b> Phân đoạn pixel-level từ bounding boxes
                                    </div>
                                </div>
                                <div style="background: #fff3e0; padding: 8px; border-radius: 6px; border-left: 3px solid #ff9800; margin-top: auto;">
                                    <div style="font-size: 10px; line-height: 1.4; color: #e65100; font-family: 'Roboto', sans-serif; font-weight: 600;">
                                        <i class="fa-solid fa-star" style="color: #ff9800; margin-right: 4px; font-size: 9px;"></i>
                                        Hướng tiếp cận <b>mới</b> cho bài toán rầy nâu
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Card 2: Ưu điểm Kỹ thuật -->
                        <div style="background: #ffffff; padding: 14px; border-radius: 12px; box-shadow: 0 4px 12px rgba(255, 152, 0, 0.15); border-top: 4px solid #ff9800; display: flex; flex-direction: column; overflow: hidden;">
                            <div style="text-align: center; margin-bottom: 10px;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #ff9800 0%, #fb8c00 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);">
                                    <i class="fa-solid fa-cogs" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #e65100; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; font-family: 'Montserrat', sans-serif;">2. Ưu điểm Kỹ thuật</h3>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; gap: 8px; min-height: 0;">
                                <div style="background: #fff8e1; padding: 8px; border-radius: 6px; border-left: 3px solid #ff9800;">
                                    <div style="font-size: 10px; font-weight: 600; color: #e65100; margin-bottom: 4px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-mask" style="margin-right: 4px; font-size: 9px;"></i>SAM
                                    </div>
                                    <div style="font-size: 10px; line-height: 1.3; color: #333; font-family: 'Roboto', sans-serif;">
                                        Sinh mặt nạ khởi tạo, tăng độ chính xác biên, giảm nhiễu nền
                                    </div>
                                </div>
                                <div style="background: #fff8e1; padding: 8px; border-radius: 6px; border-left: 3px solid #ff9800;">
                                    <div style="font-size: 10px; font-weight: 600; color: #e65100; margin-bottom: 4px; font-family: 'Montserrat', sans-serif;">
                                        <i class="fa-solid fa-brain" style="margin-right: 4px; font-size: 9px;"></i>ViT
                                    </div>
                                    <div style="font-size: 10px; line-height: 1.3; color: #333; font-family: 'Roboto', sans-serif;">
                                        Học biểu diễn toàn cục, nhận diện tốt cá thể nhỏ, phân tán
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Card 3: Khác biệt -->
                        <div style="background: #ffffff; padding: 14px; border-radius: 12px; box-shadow: 0 4px 12px rgba(156, 39, 176, 0.15); border-top: 4px solid #9c27b0; display: flex; flex-direction: column; overflow: hidden;">
                            <div style="text-align: center; margin-bottom: 10px;">
                                <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; box-shadow: 0 4px 8px rgba(156, 39, 176, 0.3);">
                                    <i class="fa-solid fa-star" style="font-size: 22px; color: #ffffff;"></i>
                                </div>
                                <h3 style="color: #7b1fa2; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; font-family: 'Montserrat', sans-serif;">3. Khác biệt</h3>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; gap: 8px; min-height: 0;">
                                <div style="background: #f3e5f5; padding: 8px; border-radius: 6px; border-left: 3px solid #9c27b0;">
                                    <div style="font-size: 10px; line-height: 1.3; color: #333; font-family: 'Roboto', sans-serif;">
                                        <i class="fa-solid fa-check" style="color: #9c27b0; margin-right: 4px; font-size: 9px;"></i>
                                        Có <b>segmentation pixel-level</b>, không chỉ detection
                                    </div>
                                </div>
                                <div style="background: #f3e5f5; padding: 8px; border-radius: 6px; border-left: 3px solid #9c27b0;">
                                    <div style="font-size: 10px; line-height: 1.3; color: #333; font-family: 'Roboto', sans-serif;">
                                        <i class="fa-solid fa-check" style="color: #9c27b0; margin-right: 4px; font-size: 9px;"></i>
                                        Đánh giá mật độ và mức độ xâm nhiễm chính xác
                                    </div>
                                </div>
                                <div style="background: #e8f5e9; padding: 8px; border-radius: 6px; border-left: 3px solid #4caf50; margin-top: auto;">
                                    <div style="font-size: 10px; line-height: 1.3; color: #2e7d32; font-family: 'Roboto', sans-serif; font-weight: 600;">
                                        <i class="fa-solid fa-seedling" style="color: #4caf50; margin-right: 4px; font-size: 9px;"></i>
                                        Ứng dụng mở rộng trong nông nghiệp thông minh
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                5
            </div>
        </div>
    </section>

    <!-- SLIDE 6: Mục tiêu tổng quát -->
    <section class="slide-section" data-slide="6" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <div style="display: inline-block; background: linear-gradient(135deg, #1565c0 0%, #1976d2 100%); padding: 8px 20px; border-radius: 20px; margin-bottom: 10px;">
                        <h2 style="font-size: 24px; font-weight: 700; color: #ffffff; margin: 0; font-family: 'Montserrat', sans-serif; letter-spacing: 0.5px;">
                            CHƯƠNG 1: TỔNG QUAN ĐỀ TÀI
                        </h2>
                    </div>
                </div>
                
                <!-- Mục -->
                <h2 class="slide-title" style="text-align: center; color: #1565c0; font-size: 22px; margin-bottom: 25px; font-family: 'Montserrat', sans-serif; font-weight: 700; letter-spacing: 0.3px;">
                    Mục tiêu nghiên cứu
                </h2>
                
                <div class="content-body">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px; border-radius: 15px; color: white; text-align: center; margin-bottom: 30px;">
                        <h3 style="color: white; font-size: 32px; margin-bottom: 20px;">
                            <i class="fa-solid fa-bullseye" style="margin-right: 15px;"></i>
                            Mục tiêu Tổng quát
                        </h3>
                        <p style="font-size: 22px; line-height: 1.8; color: white;">
                            Xây dựng hệ thống <b>phát hiện, phân loại và phân đoạn</b> rầy nâu trên cây lúa 
                            bằng pipeline <b>YOLO + SAM-ViT</b>, sử dụng bộ dữ liệu thực địa từ nghiên cứu 
                            SwinT-YOLOv8-p2, nhằm <b>tăng độ chính xác</b> nhận diện vùng rầy nâu và 
                            <b>tính toán mật độ chính xác</b> phục vụ giám sát dịch hại tự động.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3><i class="fa-solid fa-seedling" style="margin-right: 10px;"></i>Ứng dụng</h3>
                            <p style="font-size: 18px;">Giám sát dịch hại tự động trong nông nghiệp thông minh</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3><i class="fa-solid fa-chart-line" style="margin-right: 10px;"></i>Kết quả</h3>
                            <p style="font-size: 18px;">Tăng độ chính xác nhận diện và tính toán mật độ rầy</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                6
            </div>
        </div>
    </section>

    <!-- SLIDE 7: CHƯƠNG 2 - Giới thiệu -->
    <section class="slide-section" data-slide="7" >
        <div class="slide-container">
            <div class="title-layout" style="background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%);">
                <h1 style="font-size: 48px; margin-bottom: 30px;">
                    <i class="fa-solid fa-book" style="margin-right: 20px;"></i>
                    CHƯƠNG 2
                </h1>
                <p class="subtitle" style="font-size: 36px; font-weight: 600;">
                    CƠ SỞ LÝ THUYẾT
                </p>
                <div style="margin-top: 50px; font-size: 22px; opacity: 0.95;">
                    <p><i class="fa-solid fa-brain" style="margin-right: 10px;"></i>Thị giác máy tính và Học sâu</p>
                    <p><i class="fa-solid fa-puzzle-piece" style="margin-right: 10px;"></i>Segment Anything Model (SAM)</p>
                    <p><i class="fa-solid fa-eye" style="margin-right: 10px;"></i>Vision Transformer (ViT)</p>
                    <p><i class="fa-solid fa-project-diagram" style="margin-right: 10px;"></i>Pipeline YOLO + SAM-ViT</p>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                7
            </div>
        </div>
    </section>

    <!-- SLIDE 8: Thị giác máy tính -->
    <section class="slide-section" data-slide="8" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.1.1. Thị giác máy tính (Computer Vision)</h2>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <h3 style="color: #1565c0; font-size: 24px; margin-bottom: 15px;">
                            <i class="fa-solid fa-eye" style="margin-right: 10px;"></i>
                            Định nghĩa
                        </h3>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Lĩnh vực nghiên cứu nhằm giúp máy tính có khả năng <b>"nhìn thấy"</b> và <b>hiểu nội dung</b> 
                            trong hình ảnh hoặc video tương tự như con người. Chuyển đổi dữ liệu thị giác thành thông tin 
                            có cấu trúc để phục vụ các tác vụ phân tích, nhận dạng và ra quyết định tự động.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3><i class="fa-solid fa-tag" style="margin-right: 10px;"></i>Phân loại ảnh</h3>
                            <p style="font-size: 17px; margin-bottom: 8px;"><b>Ưu điểm:</b> Mô hình đơn giản, tốc độ nhanh</p>
                            <p style="font-size: 17px;"><b>Hạn chế:</b> Không xác định vị trí đối tượng</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3><i class="fa-solid fa-square" style="margin-right: 10px;"></i>Phát hiện đối tượng</h3>
                            <p style="font-size: 17px; margin-bottom: 8px;"><b>Ưu điểm:</b> Phù hợp môi trường nhiều đối tượng</p>
                            <p style="font-size: 17px;"><b>Hạn chế:</b> Bounding box không mô tả hình dạng chi tiết</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0; grid-column: 1 / -1;">
                            <h3><i class="fa-solid fa-mask" style="margin-right: 10px;"></i>Phân đoạn ảnh</h3>
                            <p style="font-size: 17px; margin-bottom: 8px;"><b>Ưu điểm:</b> Mô tả biên dạng chi tiết, phù hợp đối tượng nhỏ</p>
                            <p style="font-size: 17px;"><b>Hạn chế:</b> Yêu cầu dữ liệu gán nhãn phức tạp, mô hình nặng</p>
                            <p style="font-size: 17px; margin-top: 10px; color: #666;">
                                <b>Loại:</b> Semantic Segmentation (phân vùng theo loại) | Instance Segmentation (nhận diện từng cá thể)
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                8
            </div>
        </div>
    </section>

    <!-- SLIDE 9: Tầm quan trọng của phân đoạn -->
    <section class="slide-section" data-slide="9" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">Tầm quan trọng của Phân đoạn trong Phát hiện Sâu bệnh</h2>
                
                <div class="content-body">
                    <div style="background: #fff3cd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #ffc107;">
                        <h3 style="color: #856404; font-size: 24px; margin-bottom: 15px;">
                            <i class="fa-solid fa-exclamation-triangle" style="margin-right: 10px;"></i>
                            Thách thức Thực địa
                        </h3>
                        <ul>
                            <li><i class="fa-solid fa-bug" style="color: #856404;"></i> Rầy và sâu bệnh có <b>kích thước rất nhỏ</b></li>
                            <li><i class="fa-solid fa-palette" style="color: #856404;"></i> Màu sắc <b>tương tự nền lá</b></li>
                            <li><i class="fa-solid fa-eye-slash" style="color: #856404;"></i> Dễ bị <b>che khuất</b> hoặc chồng lấn</li>
                        </ul>
                    </div>

                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number" style="background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);">1</div>
                            <div class="step-content">
                                <h3>Khoanh vùng chính xác</h3>
                                <p>Phân đoạn giúp khoanh vùng chính xác vùng chứa sâu bệnh ở <b>cấp độ pixel</b>, không chỉ ước lượng như bounding box</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number" style="background: linear-gradient(135deg, #2196f3 0%, #1565c0 100%);">2</div>
                            <div class="step-content">
                                <h3>Loại bỏ nhiễu</h3>
                                <p>Giúp loại bỏ nhiễu từ <b>nền ruộng</b>, <b>ánh sáng</b> và các <b>vật thể không liên quan</b></p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number" style="background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);">3</div>
                            <div class="step-content">
                                <h3>Cải thiện độ chính xác</h3>
                                <p>Cải thiện độ chính xác phân loại nhờ cung cấp <b>biểu diễn không gian tinh chỉnh</b></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                9
            </div>
        </div>
    </section>

    <!-- SLIDE 10: Học sâu - CNN -->
    <section class="slide-section" data-slide="10" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.1.2. Học sâu trong Computer Vision</h2>
                <h3 style="color: #00796b; font-size: 28px; margin-bottom: 25px;">Kiến trúc CNN (Convolutional Neural Network)</h3>
                
                <div class="content-body">
                    <div style="background: #e8f5e9; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #4caf50;">
                        <p style="font-size: 18px; line-height: 1.6;">
                            Học sâu sử dụng các mô hình mạng nơ-ron nhiều tầng để học các đặc trưng phức tạp từ dữ liệu. 
                            Có khả năng học trực tiếp từ ảnh thô mà <b>không cần thiết kế thủ công đặc trưng</b>.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3><i class="fa-solid fa-filter" style="margin-right: 10px;"></i>Convolutional Layers</h3>
                            <p style="font-size: 17px;">Sử dụng các bộ lọc (kernels) để quét qua ảnh và trích xuất đặc trưng cục bộ như cạnh, góc, hoa văn. Các đặc trưng được học từ tầng thấp lên tầng sâu, tạo biểu diễn thị giác đa cấp độ.</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3><i class="fa-solid fa-compress" style="margin-right: 10px;"></i>Pooling Layers</h3>
                            <p style="font-size: 17px;">Giảm kích thước không gian bằng cách lấy giá trị cực đại (max pooling) hoặc trung bình (average pooling). Giúp giảm số lượng tham số, tăng tính khái quát và hạn chế overfitting.</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3><i class="fa-solid fa-network-wired" style="margin-right: 10px;"></i>Fully Connected Layers</h3>
                            <p style="font-size: 17px;">Ánh xạ biểu diễn đặc trưng sang nhãn đầu ra. Đây thường là phần cuối của mô hình phân loại.</p>
                        </div>

                        <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107;">
                            <p style="color: #856404; font-size: 17px; margin: 0;">
                                <b>Hạn chế:</b> CNN giới hạn về khả năng nắm bắt quan hệ dài hạn giữa các vùng ảnh – 
                                lý do khiến <b>Transformers</b> dần thay thế trong nhiều tác vụ hiện đại.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                10
            </div>
        </div>
    </section>

    <!-- SLIDE 11: Transfer Learning và Pre-trained Models -->
    <section class="slide-section" data-slide="11" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">Transfer Learning & Pre-trained Models</h2>
                
                <div class="content-body">
                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-exchange-alt" style="margin-right: 10px;"></i>
                                Transfer Learning
                            </h3>
                            <p style="font-size: 17px; margin-bottom: 12px;">Tận dụng tri thức của mô hình đã được huấn luyện trên nhiệm vụ lớn để hỗ trợ học tốt hơn ở nhiệm vụ khác có dữ liệu ít hơn.</p>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Giảm số lượng mẫu ảnh cần thiết</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tăng tốc huấn luyện và cải thiện độ hội tụ</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Hiệu quả cao ngay cả khi dữ liệu mục tiêu có chất lượng không đồng đều</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-database" style="margin-right: 10px;"></i>
                                ImageNet Pre-training
                            </h3>
                            <p style="font-size: 17px; margin-bottom: 12px;">Huấn luyện trên tập dữ liệu quy mô lớn: <b>1,2 triệu ảnh</b> và <b>1000 lớp</b>. Học các đặc trưng thị giác phổ quát.</p>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Cung cấp điểm khởi đầu tốt</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Giúp backbone ổn định hơn khi huấn luyện trên tập dữ liệu nhỏ</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Tăng độ chính xác và khả năng tổng quát hóa</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800; grid-column: 1 / -1;">
                            <h3 style="color: #ff9800;">
                                <i class="fa-solid fa-cogs" style="margin-right: 10px;"></i>
                                Fine-tuning
                            </h3>
                            <p style="font-size: 17px; margin-bottom: 12px;">Điều chỉnh trọng số của mô hình pre-trained nhằm phù hợp với bài toán mới.</p>
                            <div class="steps-layout" style="padding: 0; margin-top: 15px;">
                                <div style="display: flex; align-items: flex-start; margin-bottom: 10px;">
                                    <span style="background: #ff9800; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; margin-right: 15px; flex-shrink: 0;">1</span>
                                    <p style="font-size: 17px; margin: 0;">Khởi tạo mô hình từ trọng số pre-trained</p>
                                </div>
                                <div style="display: flex; align-items: flex-start; margin-bottom: 10px;">
                                    <span style="background: #ff9800; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; margin-right: 15px; flex-shrink: 0;">2</span>
                                    <p style="font-size: 17px; margin: 0;">Thay thế tầng phân loại cuối bằng lớp mới (ví dụ: 3 lớp rầy)</p>
                                </div>
                                <div style="display: flex; align-items: flex-start; margin-bottom: 10px;">
                                    <span style="background: #ff9800; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; margin-right: 15px; flex-shrink: 0;">3</span>
                                    <p style="font-size: 17px; margin: 0;">Huấn luyện với learning rate nhỏ để điều chỉnh các tầng sâu</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                11
            </div>
        </div>
    </section>

    <!-- SLIDE 12: Bài toán đối tượng nhỏ -->
    <section class="slide-section" data-slide="12" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.1.3. Bài toán phát hiện và phân đoạn đối tượng nhỏ</h2>
                
                <div class="content-body">
                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #f44336;">
                            <h3 style="color: #f44336;">
                                <i class="fa-solid fa-exclamation-circle" style="margin-right: 10px;"></i>
                                Đặc điểm Đối tượng Nhỏ
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-ruler" style="color: #f44336;"></i> Kích thước vật thể <b>nhỏ so với toàn cảnh ảnh</b></li>
                                <li><i class="fa-solid fa-eye-slash" style="color: #f44336;"></i> Dễ bị <b>nhiễu nền</b> hoặc <b>che khuất (occlusion)</b></li>
                                <li><i class="fa-solid fa-layer-group" style="color: #f44336;"></i> Nhiều instances có kích thước và hình dạng khác nhau trong cùng một ảnh</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800;">
                            <h3 style="color: #ff9800;">
                                <i class="fa-solid fa-tasks" style="margin-right: 10px;"></i>
                                Thách thức
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-slash" style="color: #ff9800;"></i> Biên giới của đối tượng <b>không rõ ràng</b></li>
                                <li><i class="fa-solid fa-balance-scale" style="color: #ff9800;"></i> Tỷ lệ <b>background so với foreground lớn</b></li>
                                <li><i class="fa-solid fa-compress" style="color: #ff9800;"></i> Nhiều object gần nhau gây <b>chồng lấn</b></li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-tools" style="margin-right: 10px;"></i>
                                Phương pháp Tiếp cận
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-mask" style="color: #2196f3;"></i> <b>Instance Segmentation:</b> Nhận diện và phân đoạn từng instance riêng biệt (Mask R-CNN, SAM)</li>
                                <li><i class="fa-solid fa-tag" style="color: #2196f3;"></i> <b>Semantic Segmentation:</b> Gán nhãn pixel theo class, không phân biệt instances (U-Net, DeepLabv3)</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-chart-line" style="margin-right: 10px;"></i>
                                Chỉ số Đánh giá
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>IoU</b> (Intersection over Union): Đo độ trùng khớp giữa predicted mask và ground truth</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Dice coefficient:</b> Đánh giá độ chính xác phân đoạn, nhạy với các object nhỏ</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Pixel accuracy:</b> Tỷ lệ pixel được phân loại đúng trên toàn bộ ảnh</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                12
            </div>
        </div>
    </section>

    <!-- SLIDE 13: SAM - Giới thiệu -->
    <section class="slide-section" data-slide="13" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.2. Segment Anything Model (SAM)</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">2.2.1. Giới thiệu về SAM</h3>
                
                <div class="content-body">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 15px; color: white; margin-bottom: 25px;">
                        <h3 style="color: white; font-size: 28px; margin-bottom: 15px;">
                            <i class="fa-solid fa-star" style="margin-right: 10px;"></i>
                            Mô hình Phân đoạn Tiên tiến
                        </h3>
                        <p style="font-size: 19px; line-height: 1.7; color: white;">
                            Được <b>Meta AI</b> phát triển, nổi bật với khả năng <b>zero-shot segmentation</b>, 
                            cho phép phân đoạn các đối tượng <b>chưa từng xuất hiện</b> trong dữ liệu huấn luyện.
                        </p>
                        <p style="font-size: 18px; margin-top: 15px; color: rgba(255,255,255,0.9);">
                            <b>Huấn luyện:</b> SA-1B với <b>11 triệu ảnh</b> và <b>1,1 tỷ masks</b>
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 20px;">
                                <i class="fa-solid fa-image" style="margin-right: 8px;"></i>
                                Image Encoder
                            </h3>
                            <p style="font-size: 16px;">Trích xuất đặc trưng từ ảnh đầu vào, cung cấp representation phong phú và chi tiết về các đối tượng</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3; font-size: 20px;">
                                <i class="fa-solid fa-keyboard" style="margin-right: 8px;"></i>
                                Prompt Encoder
                            </h3>
                            <p style="font-size: 16px;">Nhận các chỉ dẫn (prompt) như điểm, bounding box, hoặc mask sơ bộ, giúp mô hình tập trung phân đoạn theo vùng quan tâm</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0; font-size: 20px;">
                                <i class="fa-solid fa-mask" style="margin-right: 8px;"></i>
                                Mask Decoder
                            </h3>
                            <p style="font-size: 16px;">Sinh ra mask phân đoạn cuối cùng dựa trên feature map từ Image Encoder và Prompt Encoder</p>
                        </div>
                    </div>

                    <div style="background: #e8f5e9; padding: 20px; border-radius: 12px; margin-top: 20px; border-left: 4px solid #4caf50;">
                        <p style="font-size: 17px; color: #2e7d32; margin: 0;">
                            <b>Ưu điểm:</b> Khả năng zero-shot làm cho SAM thích hợp với các bài toán nông nghiệp, 
                            nơi mà các loại sâu, rầy và lá cây có thể đa dạng và ít dữ liệu được gán nhãn.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                13
            </div>
        </div>
    </section>

    <!-- SLIDE 14: SAM Encoder -->
    <section class="slide-section" data-slide="14" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.2.2. Kiến trúc SAM Encoder</h2>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <h3 style="color: #1565c0; font-size: 24px; margin-bottom: 15px;">
                            <i class="fa-solid fa-brain" style="margin-right: 10px;"></i>
                            Vision Transformer (ViT) Backbone
                        </h3>
                        <ul>
                            <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Dựa trên <b>Vision Transformer (ViT)</b></li>
                            <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Các phiên bản: <b>ViT-B</b>, <b>ViT-L</b>, <b>ViT-H</b></li>
                            <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Ảnh đầu vào: <b>1024×1024 pixels</b></li>
                            <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Feature map output: <b>256 chiều</b></li>
                        </ul>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3><i class="fa-solid fa-check-circle" style="margin-right: 10px;"></i>Lợi ích của Frozen Feature Extractor</h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Đặc trưng không gian phong phú được học từ bộ dữ liệu <b>SA-1B</b></li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Giúp mô hình <b>ổn định và chính xác</b> trong việc phân đoạn các vùng ROI</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Giảm chi phí tính toán khi kết hợp với ViT trong nhiệm vụ phân loại</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tăng tính <b>robust</b> của mô hình trong môi trường thực địa với nhiều yếu tố nhiễu</li>
                            </ul>
                        </div>

                        <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107;">
                            <p style="color: #856404; font-size: 17px; margin: 0;">
                                SAM Encoder cung cấp đặc trưng không gian chi tiết và là <b>nền tảng</b> để kết hợp với ViT, 
                                xây dựng mô hình hybrid <b>SAM–ViT</b> mạnh mẽ cho bài toán nhận dạng và phân đoạn rầy.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                14
            </div>
        </div>
    </section>

    <!-- SLIDE 15: SAM Ứng dụng trong đề tài -->
    <section class="slide-section" data-slide="15" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.2.3. Ứng dụng SAM trong đề tài</h2>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <h3 style="color: #1565c0; font-size: 24px; margin-bottom: 15px;">
                            <i class="fa-solid fa-puzzle-piece" style="margin-right: 10px;"></i>
                            Box Prompts trong Pipeline
                        </h3>
                        <p style="font-size: 18px; line-height: 1.6;">
                            SAM có khả năng nhận <b>bounding boxes</b> như một dạng prompt để hướng dẫn quá trình phân đoạn. 
                            Trong pipeline của đề tài, việc sử dụng box prompts giúp SAM tập trung vào vùng quan tâm (ROI) 
                            do YOLO phát hiện, từ đó nâng cao độ chính xác phân đoạn ở mức pixel-level.
                        </p>
                    </div>

                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Phát hiện bounding boxes với YOLO</h3>
                                <p>YOLO nhận ảnh thực địa làm input và phát hiện các đối tượng rầy nâu, rầy lưng trắng, sâu ăn lá lúa. 
                                Output gồm bounding boxes với tọa độ (x_min, y_min, x_max, y_max) theo định dạng xyxy, class label, và confidence score.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Khởi tạo SAM và trích xuất đặc trưng ảnh</h3>
                                <p>Gọi <b>sam_predictor.set_image(image_rgb)</b> để khởi tạo SAM cho ảnh hiện tại. 
                                ViT-H encoder bên trong SAM chạy một lần để trích xuất đặc trưng toàn cục từ ảnh, tạo feature map 256 chiều.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Chuyển đổi bounding boxes sang format của SAM</h3>
                                <p>YOLO trả về boxes theo định dạng xyxy (tọa độ pixel tuyệt đối). 
                                Sử dụng <b>sam_predictor.transform.apply_boxes_torch()</b> để chuyển đổi boxes sang định dạng SAM.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>SAM prediction với box prompts</h3>
                                <p>Gọi <b>sam_predictor.predict_torch()</b> với boxes làm prompts, sinh masks pixel-level. 
                                SAM Mask Decoder kết hợp feature map từ ViT-H encoder với box prompt embeddings để sinh masks.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>Post-processing và kết hợp kết quả</h3>
                                <p>Kết hợp kết quả từ YOLO và SAM: boxes (YOLO), masks (SAM), classes và scores (YOLO). 
                                Liên kết mask với class và bounding box từ YOLO để tính mật độ rầy và trực quan hóa.</p>
                            </div>
                        </div>
                    </div>

                    <div style="background: #e8f5e9; padding: 20px; border-radius: 12px; margin-top: 20px; border-left: 4px solid #4caf50;">
                        <h3 style="color: #2e7d32; font-size: 20px; margin-bottom: 10px;">
                            <i class="fa-solid fa-star" style="margin-right: 10px;"></i>
                            Ưu điểm của Box Prompts
                        </h3>
                        <ul>
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tập trung phân đoạn vùng quan tâm, giảm nhiễu từ nền phức tạp</li>
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Phân đoạn chính xác đối tượng nhỏ (kích thước chỉ vài pixel)</li>
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Xử lý đối tượng chồng lấn, tạo mask riêng biệt cho từng instance</li>
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Hiệu quả tính toán: SAM chỉ cần chạy encoder một lần cho mỗi ảnh</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                15
            </div>
        </div>
    </section>

    <!-- SLIDE 16: ViT Giới thiệu -->
    <section class="slide-section" data-slide="16" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.3. Vision Transformer (ViT)</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">2.3.1. Giới thiệu về ViT</h3>
                
                <div class="content-body">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 15px; color: white; margin-bottom: 25px;">
                        <h3 style="color: white; font-size: 28px; margin-bottom: 15px;">
                            <i class="fa-solid fa-eye" style="margin-right: 10px;"></i>
                            Kiến trúc Transformer cho Thị giác
                        </h3>
                        <p style="font-size: 19px; line-height: 1.7; color: white;">
                            Vision Transformer (ViT) là một kiến trúc mạng dựa trên cơ chế <b>Transformer</b>, được thiết kế để xử lý các tác vụ thị giác máy tính. 
                            Khác với CNN truyền thống, ViT sử dụng <b>self-attention</b> để học mối quan hệ toàn cục giữa các phần của ảnh.
                        </p>
                        <p style="font-size: 18px; margin-top: 15px; color: rgba(255,255,255,0.9);">
                            <b>Giới thiệu:</b> "An Image is Worth 16x16 Words" (Dosovitskiy et al., 2020)
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-check-circle" style="margin-right: 10px;"></i>
                                So sánh với CNN
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-arrow-right" style="color: #4caf50;"></i> <b>Self-attention vs Convolution:</b> ViT học mối quan hệ toàn cục, CNN chỉ học đặc trưng cục bộ</li>
                                <li><i class="fa-solid fa-arrow-right" style="color: #4caf50;"></i> <b>Global vs Local features:</b> ViT nắm bắt thông tin toàn cảnh, giúp cải thiện khả năng phân loại đối tượng nhỏ</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-star" style="margin-right: 10px;"></i>
                                Ưu điểm của ViT
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Khả năng phân loại mạnh mẽ nhờ biểu diễn toàn cảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Dễ dàng tích hợp với các mô hình pre-trained (ImageNet)</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Cải thiện độ chính xác trong bài toán phức tạp như nhận dạng đối tượng nhỏ</li>
                            </ul>
                        </div>
                    </div>

                    <div style="background: #fff3cd; padding: 20px; border-radius: 12px; margin-top: 20px; border-left: 4px solid #ffc107;">
                        <p style="color: #856404; font-size: 17px; margin: 0;">
                            Trong đề tài này, ViT đóng vai trò backbone chính cho việc phân loại rầy dựa trên các đặc trưng semantic-level, 
                            đồng thời kết hợp với SAM để xây dựng mô hình hybrid <b>SAM–ViT</b> mạnh mẽ.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                16
            </div>
        </div>
    </section>

    <!-- SLIDE 17: ViT Kiến trúc -->
    <section class="slide-section" data-slide="17" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.3.2. Kiến trúc ViT</h2>
                
                <div class="content-body">
                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Patch Embedding</h3>
                                <p>Ảnh đầu vào (ví dụ 224×224×3) được chia thành N patch nhỏ có kích thước 16×16 pixels. 
                                Mỗi patch được "dẹt" thành vector và qua lớp linear projection để chuyển đổi thành embedding có chiều D = 768.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Position Embedding</h3>
                                <p>Position embeddings được cộng vào mỗi patch embedding để giữ thông tin không gian. 
                                Giúp mô hình phân biệt các patch ở các vị trí khác nhau trong ảnh.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>CLS Token</h3>
                                <p>Một token đặc biệt [CLS] token được thêm vào đầu chuỗi patch embeddings. 
                                CLS token tích hợp thông tin toàn cục của ảnh sau quá trình Transformer encoder.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Transformer Encoder</h3>
                                <p>ViT sử dụng nhiều layer encoder, mỗi layer gồm: 
                                <b>Multi-head Self-Attention (MSA)</b>, <b>Feed-forward network (MLP)</b>, 
                                <b>Layer Normalization</b> và <b>Residual Connection</b>.</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>Classification Head</h3>
                                <p>Sau khi qua các encoder layer, embedding của CLS token được đưa vào MLP classification head 
                                để ánh xạ embedding toàn cảnh sang xác suất các lớp (ví dụ: 3 lớp rầy trong đề tài).</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                17
            </div>
        </div>
    </section>

    <!-- SLIDE 18: ViT trong SAM -->
    <section class="slide-section" data-slide="18" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.3.3. ViT trong SAM</h2>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <h3 style="color: #1565c0; font-size: 24px; margin-bottom: 15px;">
                            <i class="fa-solid fa-brain" style="margin-right: 10px;"></i>
                            ViT-H làm Image Encoder
                        </h3>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Trong kiến trúc của Segment Anything Model (SAM), Vision Transformer (ViT) đóng vai trò là <b>Image Encoder</b>, 
                            chịu trách nhiệm trích xuất đặc trưng không gian phong phú từ ảnh đầu vào. 
                            Trong đề tài này, SAM sử dụng <b>ViT-H (ViT-Huge)</b> làm backbone chính.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-check-circle" style="margin-right: 10px;"></i>
                                Lý do chọn ViT-H
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Khả năng trích xuất đặc trưng mạnh mẽ:</b> Số lượng lớp Transformer và chiều embedding lớn hơn nhiều so với ViT-B/L</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Hỗ trợ phân đoạn đối tượng phức tạp:</b> Nhờ khả năng học quan hệ dài hạn giữa các patch ảnh (global self-attention)</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Đảm bảo chất lượng mask cao:</b> Giúp SAM encoder tạo ra feature map giàu thông tin, từ đó Mask Decoder sinh ra mask pixel-level chính xác</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Tối ưu cho phân đoạn pixel-level:</b> Cung cấp biểu diễn toàn cục và chi tiết hơn, giúp tạo ra masks với biên ranh giới rõ ràng</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                18
            </div>
        </div>
    </section>

    <!-- SLIDE 19: Self-Attention Mechanism -->
    <section class="slide-section" data-slide="19" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.3.4. Self-Attention Mechanism</h2>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <h3 style="color: #1565c0; font-size: 24px; margin-bottom: 15px;">
                            <i class="fa-solid fa-brain" style="margin-right: 10px;"></i>
                            Cơ chế Trung tâm của ViT
                        </h3>
                        <p style="font-size: 18px; line-height: 1.6;">
                            Self-attention là cơ chế trung tâm giúp mô hình học được mối quan hệ giữa tất cả các patches trong ảnh, 
                            thay vì chỉ dựa vào receptive field cục bộ như CNN. Cơ chế này giúp ViT khai thác thông tin toàn cảnh, 
                            rất quan trọng trong các bài toán nhận dạng và phân đoạn đối tượng nhỏ.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-network-wired" style="margin-right: 10px;"></i>
                                Multi-head Self-Attention (MHSA)
                            </h3>
                            <p style="font-size: 17px;">ViT chia token embeddings của ảnh thành nhiều head (ví dụ 12 head trong ViT-Base). 
                            Mỗi head học các mối quan hệ khác nhau giữa patches song song, từ đó biểu diễn thông tin phong phú và đa chiều.</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-key" style="margin-right: 10px;"></i>
                                Query, Key, Value matrices
                            </h3>
                            <p style="font-size: 17px;">Mỗi token patch được ánh xạ thành ba vector: 
                            <b>Query (Q)</b> - Đại diện cho token đang quan tâm; 
                            <b>Key (K)</b> - Đại diện cho token để so sánh; 
                            <b>Value (V)</b> - Chứa thông tin thực tế cần truyền.</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0; grid-column: 1 / -1;">
                            <h3 style="color: #9c27b0;">
                                <i class="fa-solid fa-star" style="margin-right: 10px;"></i>
                                Tại sao hiệu quả
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> <b>Global receptive field:</b> Mỗi token có thể "nhìn" toàn bộ ảnh, khắc phục hạn chế của CNN</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> <b>Học long-range dependencies:</b> Giúp nhận diện chính xác các đối tượng nhỏ hoặc chồng lấn</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> <b>Tăng cường biểu diễn phong phú:</b> Sử dụng nhiều head cho phép mô hình học các khía cạnh khác nhau của mối quan hệ</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                19
            </div>
        </div>
    </section>

    <!-- SLIDE 20: Pipeline YOLO + SAM-ViT -->
    <section class="slide-section" data-slide="20" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.4. Pipeline YOLO + SAM-ViT</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">2.4.1. Lý do kết hợp</h3>
                
                <div class="content-body">
                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-robot" style="margin-right: 10px;"></i>
                                YOLO - Tốc độ
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Nổi bật ở khả năng phát hiện và phân loại <b>nhanh</b></li>
                                <li><i class="fa-solid fa-times" style="color: #f44336;"></i> Chỉ trả về <b>bounding boxes</b>, chưa cung cấp thông tin pixel-level</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-puzzle-piece" style="margin-right: 10px;"></i>
                                SAM-ViT - Độ chính xác
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Có khả năng phân đoạn <b>pixel-level chính xác</b></li>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Cần prompts như bounding boxes để xác định vùng quan tâm</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0; grid-column: 1 / -1;">
                            <h3 style="color: #9c27b0;">
                                <i class="fa-solid fa-lightbulb" style="margin-right: 10px;"></i>
                                Giải pháp: Pipeline kết hợp
                            </h3>
                            <p style="font-size: 18px;">
                                Pipeline kết hợp hai mô hình: <b>YOLO phát hiện và phân loại</b> → <b>SAM-ViT phân đoạn</b> dựa trên boxes từ YOLO. 
                                Cách tiếp cận này vừa đảm bảo tốc độ cao, vừa nâng cao độ chính xác của segmentation, 
                                đồng thời loại bỏ nhiễu nền từ ảnh thực địa.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                20
            </div>
        </div>
    </section>

    <!-- SLIDE 21: Workflow Pipeline -->
    <section class="slide-section" data-slide="21" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.4.2. Workflow Pipeline</h2>
                
                <div class="content-body">
                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Input image</h3>
                                <p>Nhận ảnh RGB đầu vào</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>YOLO detection</h3>
                                <p>Phát hiện và phân loại đối tượng, trả về bounding boxes (xyxy), classes và scores</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Transform boxes</h3>
                                <p>Chuyển đổi bounding boxes sang định dạng SAM bằng hàm <b>apply_boxes_torch()</b></p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>SAM-ViT segmentation</h3>
                                <p><b>set_image()</b> để ViT-H encoder trích xuất đặc trưng. 
                                <b>predict_torch()</b> sử dụng boxes làm prompts, sinh masks pixel-level</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>Merge kết quả</h3>
                                <p>Kết hợp boxes (YOLO), masks (SAM), classes và scores (YOLO)</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">6</div>
                            <div class="step-content">
                                <h3>Visualization & tính mật độ</h3>
                                <p>Vẽ masks lên ảnh, tính mật độ rầy dựa trên số lượng objects</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                21
            </div>
        </div>
    </section>

    <!-- SLIDE 22: Ưu điểm Pipeline -->
    <section class="slide-section" data-slide="22" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 2: CƠ SỞ LÝ THUYẾT
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">2.4.3. Ưu điểm</h2>
                
                <div class="content-body">
                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-bolt" style="margin-right: 10px;"></i>
                                1. Tốc độ
                            </h3>
                            <p style="font-size: 17px;">YOLO phát hiện nhanh, SAM chỉ chạy encoder một lần trên ảnh, xử lý vùng đã phát hiện.</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-bullseye" style="margin-right: 10px;"></i>
                                2. Độ chính xác
                            </h3>
                            <p style="font-size: 17px;">YOLO loại bỏ background, SAM phân đoạn chi tiết từng pixel của đối tượng.</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800;">
                            <h3 style="color: #ff9800;">
                                <i class="fa-solid fa-cogs" style="margin-right: 10px;"></i>
                                3. Tính thực tế
                            </h3>
                            <p style="font-size: 17px;">Pipeline tuần tự phù hợp triển khai thực địa, có thể tối ưu từng giai đoạn riêng.</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0;">
                                <i class="fa-solid fa-sitemap" style="margin-right: 10px;"></i>
                                4. Đơn giản hóa
                            </h3>
                            <p style="font-size: 17px;">Không cần feature fusion, kết quả được kết hợp ở mức output (boxes + masks) thay vì mức feature.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                22
            </div>
        </div>
    </section>

    <!-- SLIDE 23: CHƯƠNG 3 - Pipeline tổng thể -->
    <section class="slide-section" data-slide="23" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.1. Pipeline tổng thể của mô hình</h2>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <img src="images/Sơ đồ tổng thể.jpg" alt="Sơ đồ tổng thể kiến trúc" loading="lazy" decoding="async" style="max-width: 100%; max-height: 350px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 3.1. Sơ đồ tổng thể kiến trúc Pipeline YOLO + SAM-ViT</p>
                    </div>
                    
                    <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; border-left: 5px solid #2196f3; margin-bottom: 20px;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0;">
                            Hệ thống được thiết kế theo <b>pipeline tuần tự hai giai đoạn</b>, kết hợp mô hình YOLO cho phát hiện và phân loại với SAM-ViT cho phân đoạn pixel-level. 
                            Ảnh RGB đầu vào được xử lý bởi YOLO để phát hiện các đối tượng rầy và sâu, trả về bounding boxes, class labels và confidence scores. 
                            Các bounding boxes này sau đó được chuyển thành prompts cho SAM-ViT, giúp mô hình phân đoạn chính xác từng đối tượng, tạo ra masks pixel-level.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                23
            </div>
        </div>
    </section>

    <!-- SLIDE 24: Tiền xử lý dữ liệu -->
    <section class="slide-section" data-slide="24" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.2. Quy trình tiền xử lý dữ liệu</h2>
                
                <div class="content-body">
                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item">
                            <h3><i class="fa-solid fa-folder-open" style="margin-right: 10px;"></i>Kiểm tra cấu trúc Dataset</h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Xác nhận thư mục images/ và labels/</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tìm kiếm file ảnh (.jpg, .jpeg, .png)</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tìm kiếm file nhãn (.txt)</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Đối chiếu ảnh và nhãn</li>
                            </ul>
                        </div>

                        <div class="grid-item">
                            <h3><i class="fa-solid fa-sitemap" style="margin-right: 10px;"></i>Cấu trúc thư mục YOLO</h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Train:</b> 1830 ảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Validation:</b> 1211 ảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Test:</b> 203 ảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Định dạng nhãn YOLO: class_id x_center y_center width height</li>
                            </ul>
                        </div>

                        <div class="grid-item">
                            <h3><i class="fa-solid fa-image" style="margin-right: 10px;"></i>Đặc điểm ảnh</h3>
                            <ul>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Kích thước trung bình: <b>5921×4079 pixels</b></li>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Nhỏ nhất: 4000×4000 pixels</li>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Lớn nhất: 6000×6000 pixels</li>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Ảnh thực địa từ ruộng lúa</li>
                            </ul>
                        </div>

                        <div class="grid-item">
                            <h3><i class="fa-solid fa-tags" style="margin-right: 10px;"></i>Class Mapping</h3>
                            <ul>
                                <li><i class="fa-solid fa-circle" style="color: #4caf50; font-size: 10px;"></i> Class 0: <b>Rầy lưng trắng</b> (Whitebacked planthopper)</li>
                                <li><i class="fa-solid fa-circle" style="color: #2196f3; font-size: 10px;"></i> Class 1: <b>Sâu ăn lá lúa</b> (Rice leaf miner)</li>
                                <li><i class="fa-solid fa-circle" style="color: #f44336; font-size: 10px;"></i> Class 2: <b>Rầy nâu</b> (Brown planthopper)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                24
            </div>
        </div>
    </section>

    <!-- SLIDE 25: Kiến trúc YOLOv8 và Transfer Learning -->
    <section class="slide-section" data-slide="25" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.3. Huấn luyện YOLOv8 Model</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">3.3.1. Kiến trúc YOLOv8 và chiến lược Transfer Learning</h3>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0;">
                            YOLOv8 là một kiến trúc <b>one-stage detector</b>, được thiết kế nhằm thực hiện phát hiện và phân loại đối tượng trong một bước duy nhất, tối ưu hóa tốc độ và độ chính xác. 
                            Trong nghiên cứu này, phiên bản <b>YOLOv8s (small variant)</b> được lựa chọn để cân bằng giữa khả năng xử lý nhanh và hiệu quả học tập.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-network-wired" style="margin-right: 10px;"></i>
                                Kiến trúc YOLOv8
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Backbone (CSPDarknet):</b> Trích xuất đặc trưng đa tỉ lệ, hỗ trợ nhận diện đối tượng ở nhiều kích thước khác nhau</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Neck (PANet):</b> Kết hợp thông tin từ các tầng khác nhau, tạo feature maps giàu thông tin về vị trí và ngữ cảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>Head:</b> Thực hiện detection và classification trực tiếp, sử dụng anchor-free detection</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800;">
                            <h3 style="color: #ff9800;">
                                <i class="fa-solid fa-exchange-alt" style="margin-right: 10px;"></i>
                                Chiến lược Transfer Learning
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Fine-tuning mô hình pre-trained trên <b>COCO dataset</b> (80 classes)</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Tận dụng trọng số đã học để nhận diện đặc trưng tổng quát</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Tinh chỉnh để phát hiện chính xác <b>3 class mục tiêu</b></li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> <b>Lợi ích:</b> Giảm thời gian huấn luyện, tăng khả năng tổng quát hóa</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                25
            </div>
        </div>
    </section>

    <!-- SLIDE 26: Cơ chế huấn luyện và hàm mất mát -->
    <section class="slide-section" data-slide="26" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.3.2. Cơ chế huấn luyện và hàm mất mát</h2>
                
                <div class="content-body">
                    <div style="background: #fff3cd; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid #ffc107;">
                        <p style="font-size: 17px; line-height: 1.6; margin: 0; color: #856404;">
                            Quá trình huấn luyện YOLO được tối ưu hóa thông qua <b>hàm mất mát tổng hợp (composite loss function)</b>, kết hợp nhiều thành phần phản ánh các khía cạnh khác nhau của nhiệm vụ detection.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-square" style="margin-right: 10px;"></i>
                                Box Loss (Bounding Box Regression Loss)
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Đo lường độ chính xác trong việc dự đoán vị trí và kích thước bounding boxes</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Sử dụng <b>Distribution Focal Loss (DFL)</b> kết hợp với <b>Complete IoU (CIoU) Loss</b></li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> CIoU tính khoảng cách tâm, tỷ lệ khung hình và diện tích, cải thiện định vị chính xác</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-tag" style="margin-right: 10px;"></i>
                                Classification Loss
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Đánh giá độ chính xác của việc phân loại class cho từng object</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Sử dụng <b>Binary Cross-Entropy (BCE) Loss</b> với <b>label smoothing</b></li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Label smoothing giúp xử lý mất cân bằng dữ liệu và tránh overconfidence</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0;">
                                <i class="fa-solid fa-chart-line" style="margin-right: 10px;"></i>
                                Distribution Focal Loss (DFL)
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Tập trung vào việc học <b>phân phối xác suất</b> của tọa độ bounding box</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Thay vì chỉ dự đoán một điểm duy nhất</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Giúp mô hình dự đoán chính xác hơn các biên giới phức tạp và đối tượng nhỏ</li>
                            </ul>
                        </div>
                    </div>

                    <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 20px; border-left: 4px solid #4caf50;">
                        <p style="font-size: 16px; color: #2e7d32; margin: 0;">
                            <b>Tổng hàm mất mát:</b> Tổng có trọng số của các thành phần trên. Quá trình tối ưu hóa sử dụng gradient descent kết hợp learning rate scheduling, weight decay và gradient clipping để đảm bảo hội tụ ổn định.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                26
            </div>
        </div>
    </section>

    <!-- SLIDE 27: Đánh giá hiệu suất và Metrics -->
    <section class="slide-section" data-slide="27" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.3.3. Đánh giá hiệu suất và Metrics</h2>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/Quá trình đào tạo.jpg" alt="Quá trình đào tạo YOLOv8" loading="lazy" decoding="async" style="max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 3.2. Kết quả đào tạo YOLOv8 qua các epochs</p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 20px;">
                                <i class="fa-solid fa-bullseye" style="margin-right: 8px;"></i>
                                Mean Average Precision (mAP)
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>mAP@0.5:</b> Độ chính xác trung bình với IoU threshold = 0.5</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>mAP@0.5:0.95:</b> Trung bình mAP trên nhiều ngưỡng IoU từ 0.5 đến 0.95</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3; font-size: 20px;">
                                <i class="fa-solid fa-chart-bar" style="margin-right: 8px;"></i>
                                Precision & Recall
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> <b>Precision:</b> Tỷ lệ dự đoán đúng trên tổng số dự đoán dương tính</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> <b>Recall:</b> Tỷ lệ các đối tượng thực sự được mô hình phát hiện</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800;">
                            <h3 style="color: #ff9800; font-size: 20px;">
                                <i class="fa-solid fa-balance-scale" style="margin-right: 8px;"></i>
                                F1-score
                            </h3>
                            <p style="font-size: 16px; margin: 0;">Trung bình điều hòa của Precision và Recall, cung cấp chỉ số cân bằng giữa hai yếu tố</p>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0; font-size: 20px;">
                                <i class="fa-solid fa-list" style="margin-right: 8px;"></i>
                                Per-class Metrics
                            </h3>
                            <p style="font-size: 16px; margin: 0;">Đánh giá riêng từng class, cho phép xác định các đối tượng mà mô hình còn yếu và điều chỉnh data hoặc augmentation tương ứng</p>
                        </div>
                    </div>

                    <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-top: 15px; border-left: 4px solid #2196f3;">
                        <p style="font-size: 16px; color: #1565c0; margin: 0;">
                            <b>Theo dõi metrics qua các epochs giúp:</b> Phát hiện overfitting sớm; Đánh giá hiệu quả các kỹ thuật augmentation; Quyết định thời điểm dừng huấn luyện (Early Stopping).
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                27
            </div>
        </div>
    </section>

    <!-- SLIDE 28: Image Encoding và Feature Extraction -->
    <section class="slide-section" data-slide="28" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.4. Tích hợp SAM-ViT</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">3.4.1. Cơ chế Image Encoding và Feature Extraction</h3>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0;">
                            Quá trình encoding ảnh trong SAM được thực hiện thông qua phương thức <b>set_image()</b>, kích hoạt <b>ViT-H encoder</b> để trích xuất đặc trưng từ ảnh đầu vào. 
                            Đây là bước quan trọng vì toàn bộ thông tin không gian của ảnh được nén vào feature map, làm nền tảng cho việc sinh mask chính xác.
                        </p>
                    </div>

                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Resize và Normalize</h3>
                                <p>Ảnh đầu vào được resize về <b>1024×1024 pixels</b> và normalize, giữ nguyên aspect ratio</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Patch Division</h3>
                                <p>Chia thành <b>4096 patches (64×64)</b>, mỗi patch có kích thước <b>16×16 pixels</b></p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Patch Embedding</h3>
                                <p>Mỗi patch được ánh xạ thành <b>1280-dim vector</b>; sequence patch embeddings đi qua <b>32 tầng Transformer</b></p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Self-Attention</h3>
                                <p>Self-attention cho phép mỗi patch <b>"nhìn thấy"</b> toàn bộ patches khác, tạo <b>biểu diễn toàn cục (global representation)</b></p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>Feature Map Output</h3>
                                <p>Feature map cuối cùng <b>64×64×256</b> chứa thông tin chi tiết về toàn bộ ảnh, được <b>lưu trữ và tái sử dụng</b> cho nhiều prompts</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                28
            </div>
        </div>
    </section>

    <!-- SLIDE 29: Prompt Encoding và Box Transformation -->
    <section class="slide-section" data-slide="29" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.4.2. Cơ chế Prompt Encoding và Box Transformation</h2>
                
                <div class="content-body">
                    <div style="background: #fff3cd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #ffc107;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0; color: #856404;">
                            Trong pipeline YOLO + SAM, <b>bounding boxes từ YOLO</b> được dùng làm prompts để hướng dẫn SAM tập trung phân đoạn các vùng quan tâm. 
                            Quá trình chuyển đổi và encoding đảm bảo boxes được ánh xạ chính xác vào không gian feature map của SAM.
                        </p>
                    </div>

                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Bounding Boxes từ YOLO</h3>
                                <p>Boxes YOLO có định dạng <b>(x_min, y_min, x_max, y_max)</b> trong không gian ảnh gốc</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Box Transformation</h3>
                                <p>Biến đổi <b>affine</b> sang không gian feature map <b>(64×64)</b>, đảm bảo vị trí đúng với ảnh gốc</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Prompt Encoder</h3>
                                <p>Ánh xạ boxes thành <b>embeddings 256 chiều</b>, phù hợp với chiều feature map</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Embedding Information</h3>
                                <p>Embeddings lưu trữ: <b>tọa độ boxes</b>, <b>loại prompt</b> (box/point/mask), và <b>vị trí tương đối</b></p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>Batch Processing</h3>
                                <p>SAM hỗ trợ <b>batch processing</b> cho nhiều boxes cùng lúc, tối ưu hiệu suất tính toán</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                29
            </div>
        </div>
    </section>

    <!-- SLIDE 30: Mask Decoder và sinh Mask Pixel-level -->
    <section class="slide-section" data-slide="30" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.4.3. Mask Decoder và Cơ chế sinh Mask Pixel-level</h2>
                
                <div class="content-body">
                    <div style="background: #e8f5e9; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #4caf50;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0; color: #2e7d32;">
                            <b>Mask Decoder</b> chịu trách nhiệm sinh masks pixel-level từ feature map và prompt embeddings. 
                            Sử dụng cơ chế cross-attention để tập trung vào các vùng tương ứng với bounding boxes từ YOLO.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-brain" style="margin-right: 10px;"></i>
                                Cross-Attention Mechanism
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Prompt embeddings là <b>queries</b>, feature map là <b>keys</b> và <b>values</b></li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Cho phép decoder tập trung vào các vùng tương ứng với bounding boxes</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Trích xuất đặc trưng liên quan tới đối tượng từ feature map</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-expand" style="margin-right: 10px;"></i>
                                Upscaling và Activation
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Output là logits kích thước <b>64×64</b></li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Được <b>upscale</b> về kích thước ảnh gốc <b>(1024×1024)</b></li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Áp dụng <b>sigmoid activation</b> để tạo binary mask</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0;">
                                <i class="fa-solid fa-filter" style="margin-right: 10px;"></i>
                                Mask Selection
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> SAM có thể sinh nhiều mask candidates cho mỗi prompt</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Trong pipeline này, chỉ chọn <b>mask tốt nhất</b> (multimask_output=False)</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Giảm thời gian xử lý và đảm bảo kết quả tối ưu</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800;">
                            <h3 style="color: #ff9800;">
                                <i class="fa-solid fa-star" style="margin-right: 10px;"></i>
                                Confidence Scores
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Decoder trả về <b>confidence scores</b> cho mỗi mask</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Giúp đánh giá chất lượng phân đoạn</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Có thể lọc các masks kém chất lượng nếu cần</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                30
            </div>
        </div>
    </section>

    <!-- SLIDE 31: Kết hợp Kết quả từ YOLO và SAM -->
    <section class="slide-section" data-slide="31" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.5. Kết hợp Kết quả và Post-processing</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">3.5.1. Cơ chế Kết hợp Kết quả từ YOLO và SAM</h3>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0;">
                            Trong pipeline YOLO + SAM, hai mô hình hoạt động <b>tuần tự (sequential)</b>. 
                            Việc kết hợp kết quả đòi hỏi sự <b>đồng bộ hóa</b> giữa outputs của YOLO và SAM để đảm bảo tính nhất quán.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-robot" style="margin-right: 10px;"></i>
                                YOLO Output
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Object detection và classification</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Bounding boxes với tọa độ (x_min, y_min, x_max, y_max)</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Class labels và confidence scores</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-puzzle-piece" style="margin-right: 10px;"></i>
                                SAM Output
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Segmentation pixel-level</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Masks tương ứng với mỗi bounding box</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Mask confidence scores</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0; grid-column: 1 / -1;">
                            <h3 style="color: #9c27b0;">
                                <i class="fa-solid fa-link" style="margin-right: 10px;"></i>
                                Đồng bộ hóa 1:1
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Mỗi bounding box từ YOLO tương ứng <b>1:1</b> với một mask từ SAM</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Theo thứ tự confidence score giảm dần (sau NMS)</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Duy trì liên kết giữa thông tin phân loại (class, confidence) và phân đoạn (mask)</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Tạo cấu trúc dữ liệu thống nhất cho visualization và phân tích mật độ</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                31
            </div>
        </div>
    </section>

    <!-- SLIDE 32: Non-Maximum Suppression và Lọc Kết quả -->
    <section class="slide-section" data-slide="32" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.5.2. Non-Maximum Suppression và Lọc Kết quả</h2>
                
                <div class="content-body">
                    <div style="background: #fff3cd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #ffc107;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0; color: #856404;">
                            <b>Non-Maximum Suppression (NMS)</b> là kỹ thuật cơ bản trong object detection để loại bỏ các bounding boxes chồng chéo hoặc dư thừa, 
                            đảm bảo chỉ giữ lại các detections chất lượng cao.
                        </p>
                    </div>

                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>NMS tự động trong YOLO</h3>
                                <p>YOLO tự động thực hiện NMS <b>trước khi</b> các boxes được đưa vào SAM</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Sắp xếp theo Confidence</h3>
                                <p>Boxes được sắp xếp theo <b>confidence score giảm dần</b></p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Loại bỏ Boxes chồng chéo</h3>
                                <p>Loại bỏ các boxes có <b>IoU vượt ngưỡng NMS threshold</b> (thường 0.5) với box được chọn</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Confidence Threshold Filtering</h3>
                                <p>Lọc các boxes theo <b>confidence threshold</b>, loại bỏ detections có khả năng sai cao</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>Kết quả</h3>
                                <p>Chỉ các boxes <b>chất lượng cao</b> được giữ lại, tối ưu thời gian tính toán và đảm bảo SAM chỉ phân đoạn các đối tượng đáng tin cậy</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                32
            </div>
        </div>
    </section>

    <!-- SLIDE 33: Mask Post-processing và Visualization -->
    <section class="slide-section" data-slide="33" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.5.3. Mask Post-processing và Visualization</h2>
                
                <div class="content-body">
                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50;">
                                <i class="fa-solid fa-exchange-alt" style="margin-right: 10px;"></i>
                                Format Conversion
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Chuyển đổi từ <b>tensor</b> sang <b>numpy array</b></li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Hoặc <b>boolean mask</b> (threshold 0.5) để dễ dàng xử lý với các thư viện ảnh</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3;">
                                <i class="fa-solid fa-palette" style="margin-right: 10px;"></i>
                                Alpha Blending Visualization
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Masks được overlay lên ảnh gốc bằng <b>alpha blending</b></li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Kết hợp màu sắc theo class: <b>xanh lá</b> – rầy lưng trắng, <b>xanh dương</b> – sâu ăn lá lúa, <b>đỏ</b> – rầy nâu</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Alpha ≈ 0.4, giúp quan sát đồng thời đối tượng và bối cảnh</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0;">
                                <i class="fa-solid fa-shield-alt" style="margin-right: 10px;"></i>
                                Giữ nguyên chất lượng Masks
                            </h3>
                            <ul>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Nhờ SAM là mô hình <b>zero-shot mạnh</b>, masks có độ chính xác cao</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Không cần các bước phức tạp như loại nhiễu hay điền lỗ hổng</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> Giữ nguyên masks gốc đảm bảo độ chính xác phân đoạn và không làm mất thông tin quan trọng</li>
                            </ul>
                        </div>
                    </div>

                    <div style="background: #e8f5e9; padding: 20px; border-radius: 12px; margin-top: 20px; border-left: 4px solid #4caf50;">
                        <h3 style="color: #2e7d32; font-size: 20px; margin-bottom: 10px;">
                            <i class="fa-solid fa-star" style="margin-right: 10px;"></i>
                            Ưu điểm của Pipeline
                        </h3>
                        <ul style="margin: 0;">
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tỷ lệ false positives thấp nhờ NMS và confidence threshold</li>
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Masks chính xác và chi tiết nhờ zero-shot segmentation của SAM</li>
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Khả năng truy xuất thông tin đầy đủ: mỗi đối tượng có cả box, mask, class và confidence</li>
                            <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tối ưu hiệu suất: feature map ViT-H được tái sử dụng, xử lý nhiều boxes cùng lúc</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                33
            </div>
        </div>
    </section>

    <!-- SLIDE 34: Visualization và Alpha Blending -->
    <section class="slide-section" data-slide="34" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.6. Visualization và Tính Mật Độ</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">3.6.1. Phương pháp Visualization và Alpha Blending</h3>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/DemoPhanDoan.jpg" alt="Demo phân đoạn rầy" loading="lazy" decoding="async" style="max-width: 100%; max-height: 280px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 3.3. Kết quả phân đoạn rầy trên ảnh ruộng lúa</p>
                    </div>

                    <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid #2196f3;">
                        <h3 style="color: #1565c0; font-size: 20px; margin-bottom: 10px;">
                            <i class="fa-solid fa-palette" style="margin-right: 10px;"></i>
                            Nguyên lý Alpha Blending
                        </h3>
                        <p style="font-size: 17px; line-height: 1.6; margin: 0;">
                            <b>Công thức:</b> I<sub>result</sub> = α × I<sub>foreground</sub> + (1-α) × I<sub>background</sub><br>
                            Trong đề tài, <b>α = 0.4</b> được lựa chọn để tối ưu sự cân bằng giữa việc nhấn mạnh các vùng phân đoạn và giữ lại chi tiết môi trường gốc.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 18px;">
                                <i class="fa-solid fa-tag" style="margin-right: 8px;"></i>
                                Color Mapping
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-circle" style="color: #4caf50; font-size: 8px;"></i> <b>Class 0:</b> Xanh lá (0,255,0) - Rầy lưng trắng</li>
                                <li><i class="fa-solid fa-circle" style="color: #2196f3; font-size: 8px;"></i> <b>Class 1:</b> Xanh dương (255,0,0) - Sâu ăn lá lúa</li>
                                <li><i class="fa-solid fa-circle" style="color: #f44336; font-size: 8px;"></i> <b>Class 2:</b> Đỏ (0,0,255) - Rầy nâu</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800;">
                            <h3 style="color: #ff9800; font-size: 18px;">
                                <i class="fa-solid fa-eye" style="margin-right: 8px;"></i>
                                Vai trò Visualization
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Kiểm tra năng lực phân đoạn của mô hình</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Nhận dạng lỗi (over/under-segmentation)</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Đánh giá phân bố dịch hại trực tiếp</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Giao tiếp kết quả với người dùng nông nghiệp</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                34
            </div>
        </div>
    </section>

    <!-- SLIDE 35: Tính Toán Mật Độ Rầy -->
    <section class="slide-section" data-slide="35" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.6.2. Phương pháp Tính Toán Mật Độ Rầy</h2>
                
                <div class="content-body">
                    <div style="background: #fff3cd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #ffc107;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0; color: #856404;">
                            Mật độ rầy (số cá thể trên mỗi đơn vị diện tích) là chỉ số quen thuộc trong các phương pháp điều tra đồng ruộng truyền thống, 
                            giúp kết quả tương thích với các tiêu chuẩn đánh giá nông nghiệp hiện hành.
                        </p>
                    </div>

                    <div style="background: #e8f5e9; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #4caf50;">
                        <h3 style="color: #2e7d32; font-size: 22px; margin-bottom: 15px;">
                            <i class="fa-solid fa-calculator" style="margin-right: 10px;"></i>
                            Công thức tính mật độ
                        </h3>
                        <p style="font-size: 20px; text-align: center; font-weight: 700; color: #1b5e20; margin: 0;">
                            D = N / A
                        </p>
                        <ul style="margin-top: 15px; font-size: 16px;">
                            <li><i class="fa-solid fa-info-circle" style="color: #4caf50;"></i> <b>D:</b> Mật độ (con/m²)</li>
                            <li><i class="fa-solid fa-info-circle" style="color: #4caf50;"></i> <b>N:</b> Tổng số đối tượng được mô hình phát hiện</li>
                            <li><i class="fa-solid fa-info-circle" style="color: #4caf50;"></i> <b>A:</b> Diện tích thực tương ứng với ảnh đầu vào (m²)</li>
                        </ul>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3; font-size: 18px;">
                                <i class="fa-solid fa-ruler" style="margin-right: 8px;"></i>
                                Xác định diện tích (A)
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Giả định: <b>1 m²</b> cho ảnh kích thước 1024×1024 pixels</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Dựa trên khoảng cách chụp trung bình và FOV camera điện thoại</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Có thể hiệu chỉnh với thông số: độ cao camera, kích thước cảm biến, góc mở ống kính</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0; font-size: 18px;">
                                <i class="fa-solid fa-layer-group" style="margin-right: 8px;"></i>
                                Các cấp độ tính toán
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> <b>Mật độ tổng:</b> Tổng mức độ hiện diện của tất cả các loài trong ảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> <b>Mật độ theo class:</b> Đánh giá loài nào chiếm ưu thế, so sánh khả năng xâm nhiễm</li>
                                <li><i class="fa-solid fa-check" style="color: #9c27b0;"></i> <b>Mật độ trung bình dataset:</b> Cái nhìn tổng quát về mức độ xuất hiện dịch hại</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                35
            </div>
        </div>
    </section>

    <!-- SLIDE 36: Hệ thống Đánh giá và Báo cáo -->
    <section class="slide-section" data-slide="36" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.6.3. Hệ thống Đánh giá và Báo cáo Kết quả</h2>
                
                <div class="content-body">
                    <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid #2196f3;">
                        <p style="font-size: 17px; line-height: 1.6; margin: 0;">
                            Hệ thống đánh giá cung cấp cái nhìn <b>đầy đủ, đa chiều và có hệ thống</b> về hiệu suất của pipeline YOLO + SAM, 
                            được tổ chức thành ba cấp độ: tổng quan, theo class và chi tiết theo từng ảnh.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 18px;">
                                <i class="fa-solid fa-chart-pie" style="margin-right: 8px;"></i>
                                Thống kê Tổng quan
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tổng số ảnh được đánh giá</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Tổng số đối tượng phát hiện được</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Số lượng trung bình đối tượng/ảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Mật độ trung bình trên mỗi ảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Phần trăm ảnh có xuất hiện rầy</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3; font-size: 18px;">
                                <i class="fa-solid fa-list" style="margin-right: 8px;"></i>
                                Thống kê theo Class
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Tổng số đối tượng phát hiện theo class</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Tỷ lệ phần trăm của class</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Mật độ trung bình theo từng class</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Tần suất xuất hiện trong ảnh</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Phân bố theo mức độ dày đặc</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800; grid-column: 1 / -1;">
                            <h3 style="color: #ff9800; font-size: 18px;">
                                <i class="fa-solid fa-chart-bar" style="margin-right: 8px;"></i>
                                Phân tích Phân bố Mật độ
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> <b>Histogram mật độ:</b> Tần suất xuất hiện các giá trị mật độ, xác định mức độ phổ biến</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> <b>Box plot theo class:</b> So sánh trực quan mật độ giữa các loài, quan sát median và outliers</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Phát hiện các vùng có mật độ bất thường (điểm nóng dịch hại)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                36
            </div>
        </div>
    </section>

    <!-- SLIDE 37: Kiến trúc Pipeline Tuần tự -->
    <section class="slide-section" data-slide="37" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.7. Thiết kế Pipeline và Kiến trúc Hệ thống</h2>
                <h3 style="color: #00796b; font-size: 32px; margin-bottom: 25px;">3.7.1. Kiến trúc Pipeline Tuần tự YOLO + SAM-ViT</h3>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/Kiến trúc pipeline yolo - sam.jpg" alt="Kiến trúc Pipeline YOLO + SAM-ViT" loading="lazy" decoding="async" style="max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 3.4. Kiến trúc Pipeline Tuần tự YOLO + SAM-ViT</p>
                    </div>

                    <div style="background: #e3f2fd; padding: 25px; border-radius: 12px; margin-bottom: 25px; border-left: 5px solid #2196f3;">
                        <p style="font-size: 18px; line-height: 1.6; margin: 0;">
                            Kiến trúc pipeline được thiết kế theo mô hình <b>tuần tự (sequential pipeline)</b>, trong đó:
                        </p>
                        <ul style="margin-top: 15px; font-size: 17px;">
                            <li><i class="fa-solid fa-robot" style="color: #2196f3;"></i> <b>YOLO</b> đảm nhiệm vai trò phát hiện đối tượng và tạo ra các bounding boxes</li>
                            <li><i class="fa-solid fa-puzzle-piece" style="color: #4caf50;"></i> <b>SAM-ViT</b> đảm nhiệm phân đoạn chi tiết (instance segmentation) dựa trên các bounding boxes này</li>
                            <li><i class="fa-solid fa-arrow-right" style="color: #ff9800;"></i> Hai mô hình được vận hành theo <b>thứ tự cố định</b> vì SAM yêu cầu bounding boxes làm prompts đầu vào</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                37
            </div>
        </div>
    </section>

    <!-- SLIDE 38: Cơ chế Xử lý và Tối ưu hóa -->
    <section class="slide-section" data-slide="38" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 3: THIẾT KẾ VÀ XÂY DỰNG HỆ THỐNG
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">3.7.2. Cơ chế Xử lý và Tối ưu hóa Hiệu suất</h2>
                
                <div class="content-body">
                    <div style="background: #fff3cd; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid #ffc107;">
                        <p style="font-size: 17px; line-height: 1.6; margin: 0; color: #856404;">
                            Pipeline được thiết kế theo mô hình xử lý tuần tự với <b>7 bước chính</b>, đảm bảo tính nhất quán của đầu ra và tối ưu hóa hiệu suất.
                        </p>
                    </div>

                    <div class="steps-layout" style="padding: 0;">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Đọc và tiền xử lý ảnh</h3>
                                <p>Ảnh được đọc từ ổ đĩa và chuẩn hóa kích thước theo yêu cầu của YOLO và SAM</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>YOLO Detection & Classification</h3>
                                <p>YOLO được load <b>một lần</b> trong __init__(), sau đó tái sử dụng cho toàn bộ quá trình xử lý</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Lọc Bounding Boxes</h3>
                                <p>Kiểm tra sớm giúp giảm tính toán cho SAM-ViT nếu không có đối tượng được phát hiện</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>SAM Image Encoding (ViT-H)</h3>
                                <p><b>Tối ưu quan trọng:</b> ViT Encoder chỉ chạy <b>một lần</b> cho mỗi ảnh. Feature map được tái sử dụng cho tất cả boxes, giảm thời gian segmentation xuống 5–20 lần</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>SAM Segmentation với Box Prompts</h3>
                                <p>Mask Decoder nhận image embeddings, box prompts và sinh masks pixel-level</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">6</div>
                            <div class="step-content">
                                <h3>Hợp nhất và Hậu xử lý</h3>
                                <p>Kết hợp kết quả từ YOLO và SAM, format masks, rescaling với chi phí tính toán nhỏ</p>
                            </div>
                        </div>

                        <div class="step-item">
                            <div class="step-number">7</div>
                            <div class="step-content">
                                <h3>Visualization (Tùy chọn)</h3>
                                <p>Chỉ được kích hoạt khi người dùng yêu cầu, tránh lãng phí tài nguyên khi chạy trên dataset lớn</p>
                            </div>
                        </div>
                    </div>

                    <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 20px; border-left: 4px solid #4caf50;">
                        <p style="font-size: 16px; color: #2e7d32; margin: 0;">
                            <b>Lý do không batch song song:</b> YOLO và SAM-ViT đều tiêu tốn nhiều VRAM; segmentation theo box prompts có tính chất tuần tự. 
                            Thiết kế tuần tự nhưng được tổ chức tốt giúp đảm bảo hiệu suất cao mà không vượt quá giới hạn phần cứng.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                38
            </div>
        </div>
    </section>

    <!-- SLIDE 39: CHƯƠNG 4 - Giới thiệu -->
    <section class="slide-section" data-slide="39" >
        <div class="slide-container">
            <div class="title-layout" style="background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);">
                <h1 style="font-size: 48px; margin-bottom: 30px;">
                    <i class="fa-solid fa-chart-line" style="margin-right: 20px;"></i>
                    CHƯƠNG 4
                </h1>
                <p class="subtitle" style="font-size: 36px; font-weight: 600;">
                    KẾT QUẢ THỰC NGHIỆM VÀ PHÂN TÍCH
                </p>
                <div style="margin-top: 50px; font-size: 22px; opacity: 0.95;">
                    <p><i class="fa-solid fa-graduation-cap" style="margin-right: 10px;"></i>Phân tích kết quả đào tạo</p>
                    <p><i class="fa-solid fa-check-circle" style="margin-right: 10px;"></i>Đánh giá khả năng phân loại</p>
                    <p><i class="fa-solid fa-chart-bar" style="margin-right: 10px;"></i>Phân tích phân đoạn và mật độ</p>
                    <p><i class="fa-solid fa-star" style="margin-right: 10px;"></i>Đánh giá chất lượng phân đoạn</p>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                39
            </div>
        </div>
    </section>

    <!-- SLIDE 40: Phân tích kết quả đào tạo -->
    <section class="slide-section" data-slide="40" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 4: KẾT QUẢ THỰC NGHIỆM VÀ PHÂN TÍCH
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">4.1. Phân tích kết quả đào tạo (Training)</h2>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/Quá trình đào tạo.jpg" alt="Kết quả đào tạo YOLOv8" style="max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 4.1. Kết quả đào tạo YOLOv8 qua 20 epochs</p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 18px;">
                                <i class="fa-solid fa-bullseye" style="margin-right: 8px;"></i>
                                Precision & Recall
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Cả <b>Precision</b> và <b>Recall</b> đều tăng trưởng rõ rệt và ổn định qua các epoch</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> <b>F1-Score</b> đạt mức cao <b>0.9379</b> ở epoch cuối</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Cân bằng tốt giữa khả năng phát hiện đúng và tìm kiếm đầy đủ đối tượng</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3; font-size: 18px;">
                                <i class="fa-solid fa-chart-line" style="margin-right: 8px;"></i>
                                Mean Average Precision (mAP)
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> <b>mAP@0.5:</b> Đạt đỉnh rất cao <b>0.9793</b></li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Khẳng định khả năng định vị đối tượng rất chính xác</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> <b>mAP@0.5:0.95:</b> Đạt <b>0.8194</b></li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Mô hình tạo ra các hộp bao sát với Ground Truth ngay cả ở các ngưỡng IoU nghiêm ngặt</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                40
            </div>
        </div>
    </section>

    <!-- SLIDE 41: Đánh giá khả năng phân loại -->
    <section class="slide-section" data-slide="41" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 4: KẾT QUẢ THỰC NGHIỆM VÀ PHÂN TÍCH
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">4.2. Đánh giá khả năng phân loại (Classification Performance)</h2>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/Ma trận nhầm lẫn.jpg" alt="Ma trận nhầm lẫn" loading="lazy" decoding="async" style="max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 4.2. Ma trận nhầm lẫn (Confusion Matrix Normalized)</p>
                    </div>

                    <div style="background: #e8f5e9; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #4caf50;">
                        <h3 style="color: #2e7d32; font-size: 20px; margin-bottom: 15px;">
                            <i class="fa-solid fa-check-circle" style="margin-right: 10px;"></i>
                            Độ chính xác cao
                        </h3>
                        <p style="font-size: 17px; line-height: 1.6; margin: 0; color: #1b5e20;">
                            Mô hình thể hiện khả năng phân loại vượt trội cho cả ba lớp, với tỷ lệ đúng trên đường chéo chính (True Positives):
                        </p>
                        <ul style="margin-top: 10px; font-size: 16px;">
                            <li><i class="fa-solid fa-bug" style="color: #4caf50;"></i> <b>Rầy lưng trắng:</b> 0.98</li>
                            <li><i class="fa-solid fa-bug" style="color: #2196f3;"></i> <b>Sâu ăn lá lúa:</b> 0.97</li>
                            <li><i class="fa-solid fa-bug" style="color: #f44336;"></i> <b>Rầy nâu:</b> 0.95</li>
                        </ul>
                    </div>

                    <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107;">
                        <h3 style="color: #856404; font-size: 20px; margin-bottom: 10px;">
                            <i class="fa-solid fa-shield-alt" style="margin-right: 10px;"></i>
                            Tỷ lệ nhầm lẫn thấp
                        </h3>
                        <p style="font-size: 16px; color: #856404; margin: 0;">
                            Tỷ lệ nhầm lẫn giữa các lớp gần như bằng <b>0</b> (chỉ khoảng 0.01-0.02). 
                            Điều này củng cố độ tin cậy của Bounding Boxes do YOLO tạo ra, đảm bảo các prompts đầu vào cho SAM-ViT là chính xác về mặt định danh lớp.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                41
            </div>
        </div>
    </section>

    <!-- SLIDE 42: Phân tích phân đoạn và mật độ -->
    <section class="slide-section" data-slide="42" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 4: KẾT QUẢ THỰC NGHIỆM VÀ PHÂN TÍCH
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">4.3. Phân tích kết quả phân đoạn và tính mật độ</h2>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/Phân tích mật độ.jpg" alt="Phân tích mật độ rầy" loading="lazy" decoding="async" style="max-width: 100%; max-height: 280px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 4.3. Phân tích mật độ rầy</p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 18px;">
                                <i class="fa-solid fa-bug" style="margin-right: 8px;"></i>
                                Phân bố đối tượng
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-circle" style="color: #f44336; font-size: 8px;"></i> <b>Rầy nâu:</b> 2289 cá thể (ưu thế)</li>
                                <li><i class="fa-solid fa-circle" style="color: #4caf50; font-size: 8px;"></i> <b>Rầy lưng trắng:</b> 1275 cá thể</li>
                                <li><i class="fa-solid fa-circle" style="color: #2196f3; font-size: 8px;"></i> <b>Sâu ăn lá lúa:</b> 114 cá thể</li>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> <b>Mật độ trung bình:</b> 1.64 con/m²</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3; font-size: 18px;">
                                <i class="fa-solid fa-chart-bar" style="margin-right: 8px;"></i>
                                Mật độ theo Class
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> <b>Rầy nâu:</b> 2.09 con/m² (cao nhất)</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> <b>Rầy lưng trắng:</b> 1.79 con/m²</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> <b>Sâu ăn lá lúa:</b> 1.14 con/m²</li>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Phân tích giúp định lượng mức độ gây hại của từng loại</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800; grid-column: 1 / -1;">
                            <h3 style="color: #ff9800; font-size: 18px;">
                                <i class="fa-solid fa-chart-line" style="margin-right: 8px;"></i>
                                Phân tích Phân bố
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> <b>Histogram:</b> Phần lớn ảnh (hơn 130 ảnh) có mật độ thấp dưới 1 con/m²</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> <b>Box plot:</b> Rầy nâu và rầy lưng trắng có sự phân tán rộng, nhiều outliers có mật độ rất cao</li>
                                <li><i class="fa-solid fa-check" style="color: #ff9800;"></i> Phát hiện các cụm rầy gây hại nghiêm trọng cục bộ (lên đến 8 con/m²)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                42
            </div>
        </div>
    </section>

    <!-- SLIDE 43: Đánh giá chất lượng phân đoạn -->
    <section class="slide-section" data-slide="43" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 4: KẾT QUẢ THỰC NGHIỆM VÀ PHÂN TÍCH
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">4.4. Đánh giá chất lượng phân đoạn</h2>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/DemoPhanDoan.jpg" alt="Hình ảnh phân đoạn rầy" style="max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 4.4. Hình ảnh phân đoạn rầy trên ảnh ruộng</p>
                    </div>

                    <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid #2196f3;">
                        <p style="font-size: 17px; line-height: 1.6; margin: 0;">
                            Mặc dù các chỉ số Detection (mAP) rất cao, <b>chất lượng của Segmentation Masks</b> mới là yếu tố khẳng định giá trị của việc tích hợp SAM-ViT.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 18px;">
                                <i class="fa-solid fa-check-circle" style="margin-right: 8px;"></i>
                                Độ bám sát biên
                            </h3>
                            <p style="font-size: 15px; margin: 0;">
                                Các mặt nạ phân đoạn màu đỏ (cho rầy nâu) được tạo ra <b>bám sát hình dạng</b> của rầy, không bị lẫn vào nền lá lúa
                            </p>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3;">
                            <h3 style="color: #2196f3; font-size: 18px;">
                                <i class="fa-solid fa-eye" style="margin-right: 8px;"></i>
                                Tính tinh tế
                            </h3>
                            <p style="font-size: 15px; margin: 0;">
                                Ngay cả trong các trường hợp rầy nhỏ hoặc nằm khuất, hệ thống vẫn tạo ra <b>mask chi tiết</b>, thể hiện khả năng phân đoạn pixel-level chính xác
                            </p>
                        </div>

                        <div class="grid-item" style="border-left-color: #9c27b0;">
                            <h3 style="color: #9c27b0; font-size: 18px;">
                                <i class="fa-solid fa-exchange-alt" style="margin-right: 8px;"></i>
                                Chuyển đổi Box → Mask
                            </h3>
                            <p style="font-size: 15px; margin: 0;">
                                Bounding Box chỉ định vị vùng đối tượng, còn Mask do SAM tạo ra cho phép <b>tính toán mật độ thực (count)</b> và <b>diện tích che phủ thực tế</b> của sâu bệnh
                            </p>
                        </div>

                        <div class="grid-item" style="border-left-color: #ff9800;">
                            <h3 style="color: #ff9800; font-size: 18px;">
                                <i class="fa-solid fa-star" style="margin-right: 8px;"></i>
                                Độ tin cậy của Count
                            </h3>
                            <p style="font-size: 15px; margin: 0;">
                                Với mAP@0.5 = 0.9793, các hộp bao của YOLO hầu như đã xác định đúng vị trí. SAM sử dụng thông tin này làm gợi ý đáng tin cậy để tạo ra mask, 
                                giảm thiểu tối đa lỗi phân đoạn sai vùng, tạo ra một kết quả đếm chính xác và có thể giải thích được
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SLIDE 44: Phân bổ đối tượng -->
    <section class="slide-section" data-slide="44" >
        <div class="slide-container">
            <div class="content-layout">
                <!-- Header: Chương -->
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="font-size: 28px; font-weight: 700; color: #1565c0; margin: 0;">
                        CHƯƠNG 4: KẾT QUẢ THỰC NGHIỆM VÀ PHÂN TÍCH
                    </h2>
                </div>
                
                <h2 class="slide-title" style="color: #1565c0;">4.5. Phân bổ đối tượng trong Dataset</h2>
                
                <div class="content-body">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <img src="images/Phân bổ đối tượng.jpg" alt="Phân bổ đối tượng" loading="lazy" decoding="async" style="max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <p style="font-size: 14px; color: #666; margin-top: 8px; font-style: italic;">Hình 4.5. Phân bổ đối tượng theo class trong dataset</p>
                    </div>

                    <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid #2196f3;">
                        <p style="font-size: 17px; line-height: 1.6; margin: 0;">
                            Phân tích phân bổ đối tượng giúp hiểu rõ hơn về <b>đặc điểm dataset</b> và <b>khả năng phát hiện</b> của mô hình đối với từng loài rầy và sâu hại.
                        </p>
                    </div>

                    <div class="grid-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="grid-item" style="border-left-color: #f44336;">
                            <h3 style="color: #f44336; font-size: 18px;">
                                <i class="fa-solid fa-bug" style="margin-right: 8px;"></i>
                                Rầy nâu
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-chart-pie" style="color: #f44336;"></i> <b>2289 cá thể</b> - Chiếm ưu thế</li>
                                <li><i class="fa-solid fa-percent" style="color: #f44336;"></i> Tỷ lệ cao nhất trong dataset</li>
                                <li><i class="fa-solid fa-check" style="color: #f44336;"></i> Mô hình phát hiện tốt với độ chính xác 0.95</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #4caf50;">
                            <h3 style="color: #4caf50; font-size: 18px;">
                                <i class="fa-solid fa-bug" style="margin-right: 8px;"></i>
                                Rầy lưng trắng
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-chart-pie" style="color: #4caf50;"></i> <b>1275 cá thể</b> - Đứng thứ hai</li>
                                <li><i class="fa-solid fa-percent" style="color: #4caf50;"></i> Tỷ lệ trung bình</li>
                                <li><i class="fa-solid fa-check" style="color: #4caf50;"></i> Mô hình phát hiện tốt với độ chính xác 0.98</li>
                            </ul>
                        </div>

                        <div class="grid-item" style="border-left-color: #2196f3; grid-column: 1 / -1;">
                            <h3 style="color: #2196f3; font-size: 18px;">
                                <i class="fa-solid fa-bug" style="margin-right: 8px;"></i>
                                Sâu ăn lá lúa
                            </h3>
                            <ul style="font-size: 15px;">
                                <li><i class="fa-solid fa-chart-pie" style="color: #2196f3;"></i> <b>114 cá thể</b> - Số lượng ít nhất</li>
                                <li><i class="fa-solid fa-info-circle" style="color: #2196f3;"></i> Class thiểu số trong dataset</li>
                                <li><i class="fa-solid fa-check" style="color: #2196f3;"></i> Mô hình vẫn phát hiện tốt với độ chính xác 0.97</li>
                                <li><i class="fa-solid fa-lightbulb" style="color: #2196f3;"></i> Thể hiện khả năng xử lý class imbalance của mô hình</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide Number -->
            <div style="position: absolute; bottom: 4px; left: 4px; width: 50px; height: 50px; background: #bdbdbd; border: 2px solid #ffffff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600; color: #424242; z-index: 20;">
                44
            </div>
        </div>
    </section>

    <!-- Thumbnail Navigation Bar -->
    <div class="thumbnail-bar" id="thumbnailBar"></div>

    <script>
        // Slide Navigation
        let currentSlideIndex = 1;
        const slides = document.querySelectorAll('.slide-section');
        const totalSlides = slides.length;

        // Update slide counter
        function updateSlideCounter() {
            document.getElementById('currentSlide').textContent = currentSlideIndex;
            document.getElementById('totalSlides').textContent = totalSlides;
        }

        // Change slide with smooth transition
        function changeSlide(direction) {
            const newIndex = currentSlideIndex + direction;
            if (newIndex < 1 || newIndex > totalSlides) return;

            // Use requestAnimationFrame for smooth transition
            requestAnimationFrame(() => {
                // Hide current slide
                const currentSlide = document.querySelector(`.slide-section[data-slide="${currentSlideIndex}"]`);
                currentSlide.classList.remove('active');
                
                // Show new slide
                currentSlideIndex = newIndex;
                const newSlide = document.querySelector(`.slide-section[data-slide="${currentSlideIndex}"]`);
                newSlide.classList.add('active');
                
                // Preload images in next/prev slides for smoother navigation
                preloadAdjacentSlides();
                
                // Scroll to top
                window.scrollTo(0, 0);
                
                // Update counter and buttons
                updateSlideCounter();
                updateNavButtons();
                updateThumbnails();
            });
        }
        
        // Preload images in adjacent slides for smoother navigation
        function preloadAdjacentSlides() {
            const preloadSlides = [];
            if (currentSlideIndex > 1) preloadSlides.push(currentSlideIndex - 1);
            if (currentSlideIndex < totalSlides) preloadSlides.push(currentSlideIndex + 1);
            
            preloadSlides.forEach(slideNum => {
                const slide = document.querySelector(`.slide-section[data-slide="${slideNum}"]`);
                if (slide) {
                    const images = slide.querySelectorAll('img[loading="lazy"]');
                    images.forEach(img => {
                        if (img.dataset.loaded !== 'true') {
                            img.loading = 'eager';
                            img.dataset.loaded = 'true';
                        }
                    });
                }
            });
        }

        // Go to specific slide
        function goToSlide(slideNumber) {
            if (slideNumber < 1 || slideNumber > totalSlides) return;
            
            requestAnimationFrame(() => {
                document.querySelector(`.slide-section[data-slide="${currentSlideIndex}"]`).classList.remove('active');
                currentSlideIndex = slideNumber;
                const newSlide = document.querySelector(`.slide-section[data-slide="${currentSlideIndex}"]`);
                newSlide.classList.add('active');
                
                // Preload adjacent slides
                preloadAdjacentSlides();
                
                window.scrollTo(0, 0);
                updateSlideCounter();
                updateNavButtons();
                updateThumbnails();
            });
        }

        // Update navigation buttons
        function updateNavButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentSlideIndex === 1;
            nextBtn.disabled = currentSlideIndex === totalSlides;
        }

        // Fullscreen functions
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                enterFullscreen();
            } else {
                exitFullscreen();
            }
        }

        function enterFullscreen() {
            document.body.classList.add('fullscreen');
            const btn = document.getElementById('fullscreenBtn');
            btn.innerHTML = '<i class="fa-solid fa-compress"></i>';
            btn.title = 'Thoát toàn màn hình';
            
            // Add click handlers to all slides
            slides.forEach(slide => {
                slide.addEventListener('click', handleSlideClick);
            });
        }

        function exitFullscreen() {
            document.body.classList.remove('fullscreen');
            const btn = document.getElementById('fullscreenBtn');
            btn.innerHTML = '<i class="fa-solid fa-expand"></i>';
            btn.title = 'Toàn màn hình';
            
            // Remove click handlers
            slides.forEach(slide => {
                slide.removeEventListener('click', handleSlideClick);
            });
        }

        function handleSlideClick(e) {
            // Chỉ xử lý khi ở chế độ fullscreen
            if (!document.body.classList.contains('fullscreen')) {
                return;
            }
            
            // Bỏ qua khi click vào các nút điều khiển
            if (e.target.closest('.nav-btn, .fullscreen-btn, a, button')) {
                return;
            }
            
            // Kiểm tra click vào bên phải (slide sau) hay bên trái (slide trước)
            const slide = e.currentTarget;
            const rect = slide.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const slideWidth = rect.width;
            
            // Chỉ xử lý khi click vào slide, không phải các phần tử con có thể click được
            if (e.target.closest('a, button, input, select, textarea')) {
                return;
            }
            
            if (clickX > slideWidth / 2) {
                // Click bên phải - slide sau
                if (currentSlideIndex < totalSlides) {
                    changeSlide(1);
                }
            } else {
                // Click bên trái - slide trước
                if (currentSlideIndex > 1) {
                    changeSlide(-1);
                }
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') changeSlide(-1);
            if (e.key === 'ArrowRight') changeSlide(1);
            if (e.key === 'Escape' && document.body.classList.contains('fullscreen')) {
                exitFullscreen();
            }
            if (e.key === 'F11') {
                e.preventDefault();
                toggleFullscreen();
            }
        });

        // Create thumbnails with simple placeholders (much faster)
        function createThumbnails() {
            const thumbnailBar = document.getElementById('thumbnailBar');
            thumbnailBar.innerHTML = '';
            
            for (let index = 0; index < slides.length; index++) {
                const thumbnail = document.createElement('div');
                thumbnail.className = 'thumbnail-item';
                thumbnail.dataset.slide = index + 1;
                
                // Create simple placeholder canvas (much faster than html2canvas)
                const canvas = document.createElement('canvas');
                canvas.width = 120;
                canvas.height = 80;
                const ctx = canvas.getContext('2d');
                
                // Background gradient based on chapter
                const gradient = ctx.createLinearGradient(0, 0, 120, 80);
                let color1, color2;
                if (index < 2) {
                    // Title and TOC slides
                    color1 = '#667eea';
                    color2 = '#764ba2';
                } else if (index < 13) {
                    // Chapter 1
                    color1 = '#1565c0';
                    color2 = '#0d47a1';
                } else if (index < 29) {
                    // Chapter 2
                    color1 = '#1565c0';
                    color2 = '#0d47a1';
                } else if (index < 45) {
                    // Chapter 3
                    color1 = '#4caf50';
                    color2 = '#2e7d32';
                } else {
                    // Chapter 4
                    color1 = '#4caf50';
                    color2 = '#2e7d32';
                }
                
                gradient.addColorStop(0, color1);
                gradient.addColorStop(1, color2);
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, 120, 80);
                
                // Text
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`Slide ${index + 1}`, 60, 45);
                
                thumbnail.appendChild(canvas);
                
                const number = document.createElement('div');
                number.className = 'thumbnail-number';
                number.textContent = index + 1;
                thumbnail.appendChild(number);
                
                thumbnail.addEventListener('click', () => goToSlide(index + 1));
                
                thumbnailBar.appendChild(thumbnail);
            }
            
            updateThumbnails();
            
            // Add mouse wheel scroll for horizontal scrolling (very fast)
            thumbnailBar.addEventListener('wheel', (e) => {
                e.preventDefault();
                // Tăng tốc độ cuộn lên 5 lần
                thumbnailBar.scrollLeft += e.deltaY * 12;
            }, { passive: false });
            
            // Enable smooth scrolling for better UX
            thumbnailBar.style.scrollBehavior = 'smooth';
        }

        function updateThumbnails() {
            document.querySelectorAll('.thumbnail-item').forEach((item, index) => {
                if (index + 1 === currentSlideIndex) {
                    item.classList.add('active');
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // Initialize
        updateSlideCounter();
        updateNavButtons();
        
        // Defer thumbnail creation to improve initial load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(createThumbnails, 500);
            });
        } else {
            setTimeout(createThumbnails, 500);
        }
        
        // Handle fullscreen API
        document.addEventListener('fullscreenchange', () => {
            if (!document.fullscreenElement) {
                exitFullscreen();
            }
        });

    </script>
</body>
</html>

